
<!-- 
#################################################
# HEAD - FOR ALL PAGES
#################################################
 -->

<!doctype html>
<html lang="en">
<head>  
    
  <!-- META -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="author" content="Martin Alfaro">
  

  <!-- FRANKLIN DEFINED - LATEX AND CODE HIGHLIGHTS -->
   <!-- HERE WE ADD ANY CSS ELEMENT WE WANT TO ADD
(don't confuse head with header, head applies globally) -->

<link rel="stylesheet" href="/julia_book/libs/katex/katex.min.css">

<!-- FOR LATEX -->
<!-- <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/aaaakshat/cm-web-fonts@latest/fonts.css"></link> -->

<!-- <link rel="stylesheet" 
href="https://fonts.googleapis.com/css?family=Open+Sans"></link> -->
<!-- Montserrat|Roboto|Lato|Raleway|Work+Sans|Raleway -->     
   <link rel="stylesheet" href="/julia_book/libs/highlight/styles/vs_myversion.css">
   

  <link rel="stylesheet" href="/julia_book/css/bootstrap.min.css">
  <style>
.section-bg-color {
  background-color: rgba(63, 99, 136, 0.07);
}

footer a {
  color: cornflowerblue;
}



  header {
    margin-top: 0px !important;
  }



header .jumbotron {
  background-image: linear-gradient(to right, black, rgb(0, 0, 0) 10%, rgb(63,99,136) 55%, rgb(63,99,136));;
  background-repeat: no-repeat;  
  background-size: 100%;  
}
</style>
  <link rel="stylesheet" href="/julia_book/css/custom.css">

    
<!-- WINDOWS TAB -->
  <title>Julia Book - Martin Alfaro</title>
  <link rel="icon" type="image/png"  href="/julia_book/assets/icons/favicon.ico">
    

</head>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-K96JNP7PKB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-K96JNP7PKB');
</script>
<!-- end of google tag -->



<body id="page-top">
  <!-- HERE WE ADD ALL THE HTML ELEMENTS (PAGES) WE WANT TO ADD TO THE SITE, FOR INSTANCE THE SIDEBAR -->



<!-- 
#################################################
# FOR EACH SPECIFIC PAGE
#################################################
 -->
 
    <!-- <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans|Roboto|Poppins|Crimson+Text|Cardo|Ubuntu"></link> -->
<!-- <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans"></link> -->
<!-- <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter"></link> -->

<!-- 
<style>
     @font-face {
          font-family: 'Open Sans';
          src:
               /* url('/{{prepath}}/libs/fonts/OpenSans/OpenSans-Regular.ttf'), */
               url('../../libs/fonts/OpenSans/OpenSans-VariableFont_wdth,wght.ttf'),
               url('../../libs/fonts/OpenSans/OpenSans-Italic-VariableFont_wdth,wght.ttf');
          font-variation-settings: 'wght' 100 1000, 'wdth' 25 100;
     }

     @font-face {
          font-family: 'Inter';
          src:
               /* url('/libs/fonts/Inter/Inter-Regular.ttf'); */
               url('../../libs/fonts/Inter/Inter-VariableFont_slnt,wght.ttf'),
               /* font-variation-settings: 'wght' 100 1000, 'wdth' 25 100; */
     }
</style> -->

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

<link href="https://fonts.googleapis.com/css2?family=Cormorant+SC:wght@300;400;500;600;700&family=Inter:wght@100..900&family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap" rel="stylesheet">    
 

 


 
<!-- format -->
 
<style>

/* THIS CONTROLS THE GLOBAL BEHAVIOR OF THE PAGE */
html { scroll-behavior: auto; }


/* change font size */
.jumbotron, .bar_top, .navbar, .nav-item, footer, .left_bar {
  font-size: 16px;  
  font-family: "Open Sans";
} 

.franklin-content{
  font-size: 18px;
  font-family: "Open Sans";
}


h1  {font-family: "Inter", "Open Sans" ; font-weight:600;}

/* TITLE AND NAME */
h1{
  padding-top: 0.1em;
  font-size  : 210% !important;
  font-weight: bold;
  text-align : center;
}



.phd_format {  
  color: white;
    /* padding: -0.5em 1.0em; */
  text-decoration: none;
  font-size      : 90%;
  text-align     : center;
  margin-top     : -0.2em;
  margin-bottom  : -0.89em;
  }

  

  
  .name_format{    
  padding-top: 0.35em;
  /* padding-bottom: 0.3em; */
  text-decoration: none;
  font-size: 160%;
  }


  .name_format a { color: white; }
  .name_format a:hover {
    color: rgb(212, 212, 212);
    color: rgb(214, 227, 240)
  }




/* content */
.franklin-content{
  /* background-color:rgb(235, 235, 235);   */
  background-color: rgb(217, 224, 231);  
}



.franklin-content{  
  margin:0;
  width:100%;  
  height:100%;    
  justify-content:center;       
  text-align: justify;
  text-justify: inter-word;
  line-height: 1.65;  
  /* word-wrap: break-word; */
}


/* all header */
.jumbotron{          
  margin-bottom:0px;    
  padding-top: 42px;
  padding-bottom:2em;  
  border-bottom: #000000 solid 1px;   
  border-radius: 0;}
  
  
  .franklin-content, .jumbotron {
      padding-left: 160px;}




  footer{        
        background-image: linear-gradient(to right, rgba(35,55,75,255), rgba(0, 0, 0, 1) 50%,  rgb(63,99,136));
        background-color:rgb(63,99,136);
        width: calc(100%+10px);       
        margin-left: -10px;
        padding-left: 10px;
    }

/* @media screen and (min-width: 992px) {
  html {  
    zoom: 100%;
    width:100%;
  }
} */


/* .jumbotron.jumbotron-fluid.container-fluid.bg-primary{
  background-image: url(/assets/WallpaperDog-17291225.jpg);
  background-size: cover;  
} */

/* FOR THE BODY - this changes its position*/
/* .franklin-content {   
  position:absolute;
  margin-left: 0px; 
  padding-top:0;}  */


/* ALL 
.franklin-content,.jumbotron, .bar_top, .navbar, .nav-item {
  font-family: "Segoe UI"; FONT USED by DEFAULT  BY FRANKLIN 
} */

/* HEADER + NAME
  .jumbotron, h1{
  font-family: "Raleway"; 
  font-weight: 550;  
} */

/* ALL HEADER - title of page */
/* .jumbotron {
  text-align:left;
  padding-left:20px;
} */


/* HEADER only - title of page */
/* h1 {
  text-align:left;
} */

/* FORMAT OF THE TEXT IN THE MAIN BODY */
/* section .container{
  margin-left: auto;  
} */



h2 {
  text-transform: uppercase;
  font-size:160%;
  text-align:center;  
  text-decoration: underline;  
  padding-bottom: 0.5em;  
}

h3{
  text-align:left;  
  text-transform: uppercase;  
  text-decoration: underline;/*none; */
  padding-bottom: 0.0em;
  padding-top: 0.5em;
  font-size: 120%;
  font-weight: 600;
  /* color:rgb(49, 77, 105); */
}


h4{
  text-align:left;  
  /* color: rgb(73, 115, 157);  */   
  text-decoration: underline;/*none; */
  padding-bottom: 0.0em;
  padding-top: 0.5em;
  font-size: 120%;
  font-weight: 600;
}





h5,h6{
  text-indent:0;
  line-height:1.2em;
  padding-top:0.99em;
  padding-bottom: -0.0em;
}

section {
  margin-left:0;  
  /* font-family: "Open Sans"; */  
  padding-left: 1%;
  padding-right: 1%;
  padding-top: 1.5%;
  padding-bottom: 1.0%;
  text-align: justify;
  text-justify: inter-word;
  line-height: 1.65;
  /* text-indent: 2.5%; */
  text-indent: 0;
  font-size: 100%;
  color: black;       
}

/* section p {  margin-bottom:24px;} */




section h1 { /* this is for the title defined as latex*/
  text-indent:0;
  margin-left:0px;  
}
  
section h2 {  
  text-indent: 0%; /* space between title and text  */
  margin-bottom: 0em; /* space between title and text  */  
} 


.franklin-content ul { 
  margin-left: 0em;
  margin-top: -0.6em;
  line-height: 1.15;}

.franklin-content ul li p { 
  margin-left: 0em;
  margin-bottom: 0.6em;
  line-height: 1.35;
  text-indent:0;}

.franklin-content ol li { 
    margin-left: 2em;
    line-height: 1.15;}

ul ::marker {  
  color: rgb(73, 115, 157); 
}

ol ::marker {
    color: rgb(83, 129, 175);
    font-weight: bold;
}

a.anchor {
    display: block;
    position: relative;
    top: -150px;    
    visibility: hidden;    
}

section a {  
  color: rgb(62, 121, 180);
  text-decoration: underline;  
  font-weight: 500;
}

section a:hover{
  color: rgba(62, 121, 180, 0.699);
  text-decoration: underline;  
}


</style> 
 <!-- <div class="left_bar" style="color:white;">
    <div style="float:center; align-items:center; justify-content: center; height:160px; width:calc(90px * 1.55165);">
        <img src="/julia_book/assets/pics_html/julia_logo-dark.svg"
        style= "position:relative; width:90%; height:auto; padding-top:45px;  padding-left:10px;">     
    </div> -->

<div class="left_bar" style="color:white;">
  <span>
    <img src="/julia_book/assets/pics_html/julia_logo-dark.svg" alt="pic" style="padding: 12px; padding-right:28px;padding-top:44px"
      width="160px" height=auto>
  </span>



  <!-- FOR TITLE BELOW THE PICTURE  -->
  <!-- <div style="color: rgb(63,99,136);
      font-size: 20px;
      font-weight: bold;
      text-align: center;
      text-shadow: 1px 1px 0px #fff, -1px -1px 0px #fff, 1px -1px 0px #fff, -1px 1px 0px #fff, 0px 0px 5px  #fff;">
      CONTENT
    </div> -->



  <ul>
    <li style="text-transform: uppercase">
      <a href="/julia_book/index.html"><img src="/julia_book/assets/icons/home.png"
          style="width:15%; height:auto;opacity:0.9;padding-bottom:5px;">
        Home
      </a>
    </li>

    <li style="text-transform: uppercase">
      <a href="/julia_book/list_posts/"><img src="/julia_book/assets/icons/books03.png"
          style="width:15%; height:auto;opacity:0.9;padding-bottom:5px;">
        Chapters
      </a>
    </li>
    <li>      
      <div style="text-indent:0;">
        <button class="modalButton" style="text-transform: uppercase">
          <img src="/julia_book/assets/icons/keyboard01.png" style="width:20%; height:auto; opacity:0.9;margin-bottom:-26px; margin-left:-30px; padding-right:4px;">
          <span style="margin-left:-0.2em;">Notation &<div style="margin-left:-1.2em; margin-top:-3em;">Hotkeys</div></span>
        </button>                   
      <div class="kbd_shortcuts">
    <div class="modal" id="kbdmodal_bar">
        <!-- Modal content -->
        <div class="modal-content" >
            <div class="modal-header">
                <h2> NOTATION</h2>
            </div>
            <div class="modal-body" style="height:auto;">
                Generic expressions are represented by <b>&lt;something&gt;</b> (e.g., <code>&lt;function&gt;</code> or <code> &lt;operator&gt;</code>). 
                This is just notation, and the symbols <code>&lt;</code> and <code>&gt;</code> should not be misconstrued as Julia's syntax.
            </div>
            <div class="modal-header">
                <h2> PAGE ZOOM</h2>
            </div>
                <div class="modal-body">
                    If you want to adjust the size of the font, <b>zoom in or out on pages</b> by respectively using <kbd>Ctrl</kbd>+<kbd>+</kbd> and <kbd>Ctrl</kbd>+<kbd>-</kbd>. The layout will adjust automatically. <br>
                <span class="brmine"></span>
            </div>            
            <div class="modal-header">
                <h2> KEYBOARD SHORTCUTS</h2>
            </div>
            <div class="modal-body">
                <style type="text/css">
                    .tg {
                        border-collapse: collapse;
                        border-spacing: 0;
                    }

                    .tg td {
                        border-color: black;
                        border-style: solid;
                        border-width: 1px;
                        overflow: hidden;
                        padding: 10px 12px;
                        word-break: normal;
                    }

                    .tg th {
                        border-color: black;
                        border-style: solid;
                        border-width: 1px;
                        font-weight: normal;
                        overflow: hidden;
                        padding: 10px 5px;
                        word-break: normal;
                    }

                    .tg .tg-80zn {
                        background-color: rgba(63, 99, 136, 0.2);
                        border-color: #ffffff;
                        font-weight: bold;
                        text-align: center;
                        vertical-align: top
                    }

                    .tg .tg-esg4 {
                        background-color: #ebebeb;
                        border-color: #ffffff;
                        font-weight: bold;
                        text-align: right;
                        vertical-align: top
                    }

                    .tg .tg-8jgo {
                        border-color: #ffffff;
                        text-align: left;
                        vertical-align: top
                    }

                    .tg .tg-ofj5 {
                        border-color: #ffffff;
                        text-align: center;
                        vertical-align: top
                    }
                </style>

                <table class="tg" style="margin-left: auto;  margin-right: auto;">
                    <thead>
                        <tr>
                            <th class="tg-80zn">Action</th>
                            <th class="tg-80zn">Keyboard Shortcut</th>
                        </tr>
                    </thead>
                    <tbody>                        
                        <tr>
                            <td class="tg-8jgo">Previous Section</td>
                            <td class="tg-ofj5"><kbd>Ctrl + ðŸ ˜</kbd></td>
                        </tr>
                        <tr>
                            <td class="tg-8jgo">Next Section</td>
                            <td class="tg-ofj5"><kbd>Ctrl + ðŸ š</kbd></td>
                        </tr>
                        <tr>
                            <td class="tg-8jgo">List of Sections</td>
                            <td class="tg-ofj5"><kbd>Ctrl + z</kbd></td>
                        </tr>
                        <tr>
                            <td class="tg-8jgo">List of Subsections</td>
                            <td class="tg-ofj5"><kbd>Ctrl + x</kbd></td>
                        </tr>
                        <tr>
                            <td class="tg-8jgo">Close Any Popped Up Window (like this one)</td>
                            <td class="tg-ofj5"><kbd>Esc</kbd></td>
                        </tr>
                        <tr>
                            <td class="tg-8jgo">Open All Codes and Outputs in a Post</td>
                            <td class="tg-ofj5"><kbd>Alt + ðŸ ™</kbd></td>
                        </tr>
                        <tr>
                            <td class="tg-8jgo">Close All Codes and Outputs in a Post</td>
                            <td class="tg-ofj5"><kbd>Alt + ðŸ ›</kbd></td>
                        </tr>                                          
                    </tbody>
                </table>
                <span class="brmine"></span>
            </div>

            <div class="modal-header">
                <h2> TIME MEASUREMENT</h2>
            </div>
            <div class="modal-body">
                When benchmarking, the equivalence of time measures is as follows.
                <br>
                <br>
            
            
                <style type="text/css">
                    .tg {
                        border-collapse: collapse;
                        border-spacing: 0;
                    }
            
                    .tg td {
                        border-color: black;
                        border-style: solid;
                        border-width: 1px;
                        overflow: hidden;
                        padding: 10px 5px;
                        word-break: normal;
                    }
            
                    .tg th {
                        border-color: black;
                        border-style: solid;
                        border-width: 1px;
                        font-weight: normal;
                        overflow: hidden;
                        padding: 10px 5px;
                        word-break: normal;
                    }
            
                    .tg .tg-80zn {
                        background-color: #ebebeb;
                        border-color: #ffffff;
                        font-weight: bold;
                        text-align: left;
                        vertical-align: top
                    }
            
                    .tg .tg-esg4 {
                        background-color: #ebebeb;
                        border-color: #ffffff;
                        font-weight: bold;
                        text-align: right;
                        vertical-align: top
                    }
            
                    .tg .tg-8jgo {
                        border-color: #ffffff;
                        text-align: left;
                        vertical-align: top
                    }
            
                    .tg .tg-ofj5 {
                        border-color: #ffffff;
                        text-align: center;
                        vertical-align: top
                    }
                </style>
            
                <table class="tg" style="margin-left: auto;  margin-right: auto;">
                    <thead>
                        <tr>
                            <th class="tg-80zn">Unit </th>
                            <th class="tg-80zn">Acronym</th>
                            <th class="tg-80zn">Measure in Seconds</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="tg-8jgo">Seconds</td>
                            <td class="tg-ofj5">s</td>
                            <td class="tg-ofj5">1</td>
                        </tr>
                        <tr>
                            <td class="tg-8jgo">Miliseconds</td>
                            <td class="tg-ofj5">ms</td>
                            <td class="tg-ofj5">10<sup>-3</sup></td>
                        </tr>
                        <tr>
                            <td class="tg-8jgo">Microseconds</td>
                            <td class="tg-ofj5">Î¼s</td>
                            <td class="tg-ofj5">10<sup>-6</sup></td>
                        </tr>
                        <tr>
                            <td class="tg-8jgo">Nanoseconds</td>
                            <td class="tg-ofj5">ns</td>
                            <td class="tg-ofj5">10<sup>-9</sup></td>
                        </tr>
                    </tbody>
                </table>
            
            </div>
            </div>



    <style>
        .left_bar .kbd_shortcuts {
            color: black;
            font-size: 16px;
            line-height: 1.55;            
            list-style-type: none;
            position: relative;            
        }

        .left_bar .kbd_shortcuts kbd {
            font-size: 14px;}


        /* bar topright modal (for content of the modal) */
        .left_bar .kbd_shortcuts .modal-content {
            position: relative;
            width: 1200px;
            max-width: 90%;
            height: max-content;
            max-height: 90%;
            margin-top:55px;            
            background-color: rgb(207, 218, 228); /* rgb(235, 235, 235); */
            overflow:auto;  
        }

        .left_bar .kbd_shortcuts .modal-body {
            margin-left: 8px;
            padding-bottom: 12px; 
            text-align: justify;
            
            padding-top: 8px;
            padding-bottom: 2px;
            overflow: visible;
            height: 100%;        
            
        }

        .left_bar .kbd_shortcuts .modal-header {
            padding: 0;            
            color: white;
            width: 100%;            
        }

        .left_bar .kbd_shortcuts .modal-header h2 {
            padding-top: 8px;
            font-size: 20px;
            font-weight: bold;
            width: 100%;
            text-align: center;
            color:white;
            background-color: rgb(63,99,136)
        };            
        

        

        .left_bar .kbd_shortcuts .modal-body p {
            padding: 0px 4px;
            text-align: justify;
            text-justify: inter-word;            
        }


        /* modal button */
        .left_bar .modalButton {
            border: none;
            box-shadow: none;
            width: auto;            
            padding: 0;
            background-color: transparent;
            color: white;
            margin: 0;            
        }

        .left_bar .brmine {
            display: block;
            margin-bottom: 0.5em;
        }

    </style>


    </div> 
    </li>
    <li style="text-transform: uppercase">
      <a href="/julia_book/links/"><img src="/julia_book/assets/icons/links.png"
          style="width:15%; height:auto;opacity:0.9;padding-bottom:5px;">
        Links
      </a>
    </li>
    <li>
      <h3 style="font-weight:400; font-size: 14px; padding-top:4em; margin-bottom:-0.6em; ">Dark Mode (Experimental)</h3>
        <label class="switch">
        <input type="checkbox" id="toggleStyles">
        <span class="slider round"></span>
      </label>      
    </li>
  </ul>
  
  <div class="personal_website">
    <a href="https://alfaromartino.github.io"><img src="/julia_book/assets/icons/personal.png"
        style="width:18%; height:auto;opacity:0.9;margin-bottom:-14px; padding-right:4px">
      Personal
      <!-- <div style="margin-left:calc(30px + 6px); margin-top:-0.5em;"> Website</div> -->
      <div style="margin-left:calc(30px + 2px); margin-top:-0.5em;"> Website</div>
    </a>
  </div>


  

  <!-- {{if add_github_star}}
<a class="github-button" href="https://github.com/{{github_repo}}" data-icon="octicon-star" data-size="large" 
data-show-count="true" aria-label="Star {{title}} on GitHub">Star</a>
{{end}}       -->
</div>




<style>

@media (max-width: 850px), (max-height: 600px){
  .left_bar{display:none}
}

.left_bar {
  z-index         : 200;
  background-image: linear-gradient(to left bottom, rgb(0, 0, 0), rgb(0, 0, 0) 10%, rgb(63, 99, 136) 80%, rgb(63, 99, 136));
  position        : fixed;
  font-family     : "Inter", "Open Sans" ;
  height          : 100%;
  top             : 0;
  left            : 0;
  font-size       : 20px;
  width           : 160px;
}



.left_bar ul{
  list-style-type: none;
  float          : left;
  font-size      : 80%;
  position       : relative;
  padding-left   : 0.8em;
  padding-top    : 40px;
  line-height    : 4.25em;  
}




.left_bar li a, .left_bar .personal_website a{
color: white;
}


.left_bar a:hover, .left_bar .personal_website a:hover{
  color: rgb(160, 159, 159);  
}


.left_bar .personal_website{
  position      : absolute;
  bottom        : 0;
  padding-bottom: 1em;
  left          : 12px;
  font-size     : 20px;
  font-family   : "Cormorant SC";
  font-weight   : bold;
}


</style>  
 
 
<!-- CONTENT PAGES -->

    <header class="text-white text-center">
  
    <div class="jumbotron jumbotron-fluid container-fluid bg-primary">
  


    <h1><i>9f.</i> Static Vectors for Small Vectors</h1>    
    <div class="lead"> </div>
    
    
    <div class="name_format">
      <a href="https://alfaromartino.github.io/" target="_blank" rel="noopener noreferrer">Martin Alfaro</a>
      </div>
      <div class="phd_format">PhD in Economics</div>
    
    
    

    

    <!-- {{if add_github_star}}
      <a class="github-button" href="https://github.com/{{github_repo}}" data-icon="octicon-star" data-size="large" 
      data-show-count="true" aria-label="Star {{title}} on GitHub">Star</a>
    {{end}} -->
  </div>
</header>


    <link href="https://fonts.cdnfonts.com/css/cascadia-mono" rel="stylesheet">

<style>

/*  */


  /* ================================================================= 
                                CODE FORMAT  
  ================================================================= */ 
  /* output_box_copied is LEGACY, we should delete in NEW FILES!!!!!! */

 /* for overflowing code  */
/* .col-lg-.mx-auto{        
        overflow: auto !important;
         }    */


  /* USEFUL TO CHANGE THE MARGINS OF THE CODE*/
  pre {
    position: relative;  /* necessary for "copy" button */
    overflow: hidden;
  }

    /* FOR WARNING, REMARK, AND MODALS 
  .warning pre, .remark pre, .modal-body pre {
    margin-bottom: 1.2em;
  }    */
       
    /* FOR INLINE CODE, WRITTEN WITHIN THE TEXT*/
  code {  
    background-color: rgb(209, 217, 224);              /*rgb(199, 223, 236);*/
    color           : black;
    text-indent     : 0%;
    padding-top     : 0.1em;
    padding-bottom  : 0.1em;
    padding-left    : 0.3em;
    padding-right   : 0.3em;
    vertical-align  : 0.05em;
    border          : 1px solid rgb(0, 16, 41);
    overflow        : hidden;
  }

  .julia_repl_NoFormat code, .mixed_output_NoFormat code {  
    background-color: rgb(82, 120, 104);            /*rgb(199, 223, 236);*/
    color           : #DCDCDC;
    border          : 1px solid rgb(82, 120, 104);
    font-size       : 95%;
  }


  
  
  
  
    
  /* COPY BUTTON */
  /* version blue, conceived by use of code only */
   
  .copy-button {
    cursor        : pointer;
    border        : none;
    font-size     : 12px;
    text-transform: lowercase;
    font-weight   : 500;
    padding       : 0px 10px 2px;
      /* background-color:   #3f6b4b; */
    background-color: rgb(63,99,136);
    position        : absolute;
    top             : 0px;
    right           : 12px;            /*Button shows in the right side of block*/
    text-align      : center;
    color           : #ffffff;
    margin-top      : 0;
    z-index         : 1;
  }
  
  .copy-button:hover{
    outline         : none;
    background-color: rgb(84, 131, 179);
  }
  .copy-button:focus {
    outline         : none;
    background-color: rgb(50, 78, 107);
  }
  
  



/* ================================================================= 
                      BASIC FORMAT FOR OUTPUTS
  ================================================================= */ 
  /* to not collapse with the copy button and `pre` */
.akin_to_pre {
  white-space: pre-wrap;
  font-family: "Consolas";
}

  /* NoFormat for julia repl - no margins or paddings, just colors, fonts, etc */
.julia_repl_NoFormat{  
    font-family     : "Consolas";
    font-size       : 95%;
    color           : #DCDCDC;
    border          : none;
    background-color: rgb(1, 59,31);
    margin          : 0;
    padding         : 0;
}

.julia_repl_NoFormat .akin_to_pre{  
  line-height: 1.35;
  color      : #DCDCDC;
  font-size  : 95%;
  margin     : 0;
  padding    : 0;
}


/* NoFormat for \output{} - no margins or paddings, just colors, fonts, etc  */
.franklin_output_NoFormat{
    font-family     : "Consolas";    
    font-size       : 95%;
    margin          : 0;
    padding         : 0;
    background-color: rgb(1, 59,31);
  }

.franklin_output_NoFormat pre {  
    margin          : 0;
    padding         : 0;
    line-height     : 1.35;
    background-color: rgb(1, 59,31);
}

.franklin_output_NoFormat pre code{  
    margin          : 0 !important;
    padding         : 0 !important;
    border          : none;
    background-color: rgb(1, 59,31);
}

/* NoFormat for Mixed */

.mixed_output_NoFormat{  
    font-family     : "Consolas";
    font-size       : 95%;
    color           : #DCDCDC;
    border          : none;
    background-color: rgb(1, 59,31);
    margin          : 0;
    padding         : 0;
}

.mixed_output_NoFormat pre{
  line-height: 1.35;
  color      : #DCDCDC;
  font-size  : 95%;
  margin     : 0;
  padding    : 0;
}

.mixed_output_NoFormat pre code{
  font-size       : 95%;
  margin          : 0 !important;
  padding         : 0 !important;
  border          : none;
  background-color: rgb(1, 59,31);
}



/* Inline for julia_repl and franklin_output - adding margins and paddings  */
.mixed_output_inline{
    color           : #DCDCDC;
    font-family     : "Consolas";    
    background-color: rgb(1, 59,31);

    padding-left  : 1em;
    padding-top   : 0.5em;
    padding-bottom: 1em;
    
    margin-top   : 0;
    margin-bottom: 0;
  }

  

  /* ============================ 
        OUTPUT BOX for Tabs hidden
  ============================ */ 
          
  
  /* COLLAPSABLE OUTPUT BOX*/
  .output_box{
    margin : 0;
    padding: 0;
  }

  .output_box details > summary{  
    width           : max-content; max-width: 90%;
    padding-left    : 10px;
    padding-right   : 10px;
    background-color: #3f6b4b;
    cursor          : pointer;
    color           : #ffffff;
    box-shadow      : 3px 3px 4px black;
    text-indent     : 0;
  }
  
  .output_box details[open] > summary {
    width           : max-content; max-width: 90%;
    padding-left    : 10px;
    padding-right   : 10px;
    background-color: #3f6b4b;
    border          : #282c34;
    border-width    : 1px;
    border-style    : solid;
       
  }
  
  .output_box{
    padding-top   : 0.5em;
    padding-bottom: 1em;
    margin-top    : 0em;
    margin-bottom : 1em;
  } 
  
  

    
  
 /* ================================================================= 
                      BASIC FORMAT FOR CODE
  ================================================================= */ 
  

.code_NoFormat{    
    line-height     : 1.45;
    font-size       : 95%;
    margin          : 0;
    padding         : 0;
    background-color: rgb(0, 16, 41);
  }

.code_NoFormat pre{       
    margin          : 0;
    padding         : 0;
    background-color: rgb(0, 16, 41);
}

.code_NoFormat pre code{          
    font-family     : "Cascadia Mono";       /* Fira Mono */
    margin          : 0 !important;
    padding         : 0 !important;
    border          : none;
    background-color: rgb(0, 16, 41);
}

.code_NoFormat p{  
    padding: 0;
    margin : 0;
  }

.code_inline{  
    background-color: rgb(0, 16, 41);

    padding-left  : 1em;
    padding-top   : 0.5em;
    padding-bottom: 1em;
    
    margin-top   : 0;
    margin-bottom: 0;
  }


  
  
  /* ============================ 
          CODE BOX is for a TAB hidden 
  ============================ */ 

.code_box{
  margin : 0;
  padding: 0;
}
.code_box details > summary{  
  width           : max-content;  max-width : 90%;
  padding-left    : 10px;
  padding-right   : 10px;
  background-color: rgb(63,99,136);
  cursor          : pointer;
  color           : #ffffff;
  box-shadow      : 3px 3px 4px black;
  text-indent     : 0;
}

.code_box details[open] > summary {
  width           : max-content; max-width: 90%;
  padding-left    : 10px;
  padding-right   : 10px;
  background-color: rgb(63,99,136);    
  border          : #282c34;
  border-width    : 1px;
  border-style    : solid;
     
}

.code_box{
  padding-top   : 0em;
  padding-bottom: 0em;
  margin-top    : 0em;
  margin-bottom : 1em;
} 
 



 /* ============================ */
/*          FOR MULTIPLE TABS MODALS     */
/* ============================ */
.hide_tab{
  padding-top   : 0em;
  padding-bottom: 0em;
  margin-top    : 0em;
  margin-bottom : 1em;
}

.hide_tab > details > summary {  
  width           : 30px; max-width: 90%;
  padding-left    : 11px;
  padding-right   : 0px;
  padding-bottom  : 0px;
  background-color: rgb(63,99,136);
  cursor          : pointer;
  color           : #ffffff;
  text-indent     : 0;
  border          : #282c34;
  border-width    : 1px;
  border-style    : solid;
}

.hide_tab > details[open] > summary {
  position        : absolute;
  width           : 35px; max-width: 90%;
  height          : 1.94em;
  padding-bottom  : 0px;
  padding-top     : 3px;
  padding-left    : 12px;
  padding-right   : 5px;
  background-color: rgb(63,99,136);
  border          : #282c34;
  border-width    : 1px;
  border-style    : solid;
  border-bottom   : none;
}


  
  /* ============================
      DEALING WITH TABS, FOR MODALS WITH ONLY OUTPUT OR ONLY CODE
  ============================*/

.tab_wrapper{
  width  : 100%;
  display: inline-block;  
  }


.tab_wrapper .tab_code_links{
  background-color: rgb(0, 16, 41);}


.tab_wrapper .tab_code_links .tablink{  
  background-color: rgb(63,99,136);
  color           : white;
  float           : left;
  border          : 1px solid black;
  outline         : none;
  cursor          : pointer;
  padding         : 2px 20px;  
  width           : max-content;
  height          : auto;
}

.tab_wrapper .tab_code_links .tablink.first_tab{ padding-left: 54px;}
.tab_wrapper .tab_code_links .tablink.active{    font-weight:500; background-color:rgba(82, 127, 173, 0.836);   }
.tab_wrapper .tab_code_links .tablink:hover{     background-color:rgba(82, 127, 173, 0.836); }

  
.tab_wrapper .tabcontent{    
  background-color: rgb(0, 16, 41);
  display         : none;
  width           : 100%;
  float           : left;
  margin          : 0;
  padding         : 0;
}

.tab_wrapper .tabcontent.active{  display: block;}




/* wrappers in modals */

.code_in_modal{  
  background-color: rgb(0, 16, 41);
  padding-left    : 1em;
  padding-top     : 0.5em;
  padding-bottom  : 1em;
  margin-top      : 0;
  margin-bottom   : 0;
}


  
.output_in_modal{  
    background-color: rgb(1, 59,31);    
  }



/* ============================
      ADDING IMAGES AS OUTPUTS
  ============================*/
/* COLLAPSIBLE OUTPUT WITH IMGS */
.img_output{
  text-indent:0;
  margin:0;
  padding:0;  
  background-color: rgba(24,24,24,255);  
}  

.img_output_in_modal{
  text-indent:0;
  margin:0;
  padding:0;  
  background-color: rgba(24,24,24,255);  
}  


.img_output_old{
  text-indent:0;
  margin:0;
  padding:0;  
  background-color: rgba(30,30,30,255);  
}  

.img_output_in_modal_old{
  text-indent     : 0;
  margin          : 0;
  padding         : 0;
  background-color: rgba(30,30,30,255);
}  



.sign_output{ 
  color           : white;
  width           : 100%; max-width: 100%;
  height          : auto;
  padding-bottom  : 0px;
  padding-top     : 0px;
  padding-left    : 12px;
  padding-right   : 12px;
  background-color: #3f6b4b;
  border          : #282c34;
  border-width    : 1px;
  border-style    : solid;
  margin-bottom   : 0px;
  padding-top     : 0em;
}

.outputmodal_container{   
  padding: 0;
  margin : 0;
}

  




/* .img_output{
color:white;
text-indent:0;
margin-top:-15px;
margin-bottom:0px;
}

.img_output details > summary {  
width: max-content; max-width: 90%;
height:auto;
padding-left: 10px;  
padding-right: 10px;  
color: white;
background-color:  #3f6b4b;
border: none;  
margin: 0;
box-shadow: 3px 3px 4px black;
cursor: pointer;  
}


.img_output details[open] > summary {
width: max-content; max-width: 90%;
padding-left: 10px;  
padding-right: 10px;  
background-color:  #3f6b4b;  
border:#282c34; 
border-width: 1px; 
color:white;
border-style:solid;
}


.img_output details > p {
border-radius: 0 0 0px 0px;
background-color: rgba(30,30,30,255);
padding: 10px 6px 10px 6px;
margin-bottom: 22px;
margin-top: 0px;
} */


  
/* ============================ */
/*          COLLAPSE TABS - HIDE BUT FOR OUTPUTS    */
/* ============================ */

/* FOR ADDING A SIGN WITH OUTPUT IN TABS */
/* 
.hide_output  > details > summary {
  width: 30px; max-width: 90%;  
  padding-left: 11px; 
  padding-right: 0px;
  padding-bottom: 0px;
  background-color:  #3f6b4b;
  cursor: pointer;  
  color: #ffffff;
  text-indent:0;  
  border:#282c34;  
  border-width:1px;  
  border-style:solid;   
}

.hide_output  > details[open] > summary {  
  position:absolute;
  width: 35px; max-width: 90%;      
  height:1.94em;  
  padding-bottom: 0px;
  padding-top: 3px;   
  padding-left: 12px;  
  padding-right: 5px;   
  background-color:  #3f6b4b;
  border:#282c34; 
  border-width:1px;    
  border-style:solid;  
  border-bottom: none;  
}

.hide_output > details > p {
  border-radius: 0 0 0px 0px;  
  padding: 0px 0px 0px 0px;  
  margin-bottom: -1px;
}

.hide_output  > details[open] {
  margin-bottom: -0.8em;  
}

.hide_output > details {
  margin-bottom: -8px;
}
 */



/* for output in modals when there are multiple outputs */




  </style>  
    
  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  




  

  

  

  

  

  

  

  

  

  

  

  

  

  

<div class="bar_top">
  <ul>
     <li>
      <div style="text-indent:0;">
        <button class="modalButton" style="background-color: transparent; color:white; display:block;
              margin-bottom: -2px;">
          <img src="/julia_book/assets/icons/sheets01.png" style="width:auto; height:30px; opacity:0.9; padding-bottom:5px;margin-left:0px;">
            Sections</button>
      </div>      
      <!-- {{insert PAGES/content_keyboardShortcuts.html}} -->        
          <div class="modal" id="modal_bar">
  <!-- Modal content -->
  <div class="modal-content">
    <div class="modal-header">
      <h2 style="text-decoration: none"> <span style="text-decoration: underline">PART II</span>: HIGH PERFORMANCE</h2>
    </div>
    <div class="modal-body">
      <div class="row">
        <div class="column">
          <div style="padding-bottom:0.8em"></div>
          <ul>
            <li>7. <u>Introduction to Performance</u>
              <ul>
                
                <li><a href="/julia_book/PAGES\7a_introToPerformace/"><i>a</i>. Remarks on Performance</a></li><br>
                
                <li><a href="/julia_book/PAGES\7b0_measuringTime/"><i>b</i>. Measuring Execution Time</a></li><br>
                
              </ul>
            </li>            
          </ul>
        </div>
        <div class="column">
          <div style="padding-bottom:0.8em"></div>
          <ul>
            <li>8. <u>Type Stability</u>
              <ul>
                
                <li><a href="/julia_book/PAGES\overview_5/"><i>a</i>. Overview and Goals</a></li><br>
                
                <li><a href="/julia_book/PAGES\7b01_preliminaries_stability/"><i>b</i>. Preliminaries for Type Stability</a></li><br>
                
                <li><a href="/julia_book/PAGES\7b1_performanceBasics/"><i>c</i>. Definition of Type Stability</a></li><br>
                
                <li><a href="/julia_book/PAGES\7b2_fixes_stability/"><i>d</i>. Global Variables</a></li><br>
                
                <li><a href="/julia_book/PAGES\7b3_barriers/"><i>e</i>. Barrier Functions</a></li><br>
                
                <li><a href="/julia_book/PAGES\7c_gotchas/"><i>f</i>. Gotchas for Type Stability</a></li><br>
                
              </ul>
            </li>            
          </ul>
        </div>
        <div class="column">
          <div style="padding-bottom:0.8em"></div>
          <ul>
            <li>9. <u>Reducing Memory Allocations</u>
              <ul>
                
                <li><a href="/julia_book/PAGES\8a0_memory_allocations/"><i>a</i>. Preliminaries on Memories Allocations</a></li><br>
                
                <li><a href="/julia_book/PAGES\8a_allocations/"><i>b</i>. Objects Allocating Memory</a></li><br>
                
                <li><a href="/julia_book/PAGES\8b1_views/"><i>c</i>. Slice Views to Reduce Allocations</a></li><br>
                
                <li><a href="/julia_book/PAGES\8b2_preallocations/"><i>d</i>. Pre-Allocations</a></li><br>
                
                <li><a href="/julia_book/PAGES\8b3_reductions/"><i>e</i>. Reductions</a></li><br>
                
                <li><a href="/julia_book/PAGES\8c_staticVectors/"><i>f</i>. Static Vectors for Small Vectors</a></li><br>
                
                <li><a href="/julia_book/PAGES\8d_lazy/"><i>g</i>. Lazy Operations</a></li><br>
                
              </ul>
            </li>            
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>        
    </li>
  </ul>
</div>



  



<style>
  /* ================================================================= 
                        TOP BAR - TO NAVIGATE SECTIONS
  ================================================================= */ 
  .bar_top{padding-left:160px;}  
  
  .bar_top {  
    background-image: linear-gradient(to right, black, rgb(0, 0, 0) 10%, rgb(63,99,136) 55%, rgb(63,99,136));
    position        : fixed;                                                                                   /* fixed to stay at the top */
    width           : 100%;
    height          : 48px;
    top             : 0;
    left            : 0;
    padding         : 8px 0px 10px 0px;
    font-size       : 110%;
    z-index         : 125;
    font-family     : "Inter";
  } 
  
  .bar_top a:hover {
      color: rgb(160, 159, 159); 
  }
  
  
  .bar_top > ul {  
    list-style-type: none;
    float          : left;
    position       : relative;
    bottom         : 0;
    padding-left   : 1%;    
    left           : 160px;
  }
  
    .bar_top li a{   
    color: white;
  }

  
  
  .bar_top .modal{   
  background-color: transparent;
  /* left: 0; */
  /* top: 0; */
  margin-top  : 48px;
  padding-left: 1%;
  margin-left : 0;
  width       : 100%;
  height      : 100%;
  overflow    : auto;
  position    : fixed;
  
}  
  
  
  
  /* bar topright modal (for content of the modal) */
  .bar_top .modal-content {  
    position                  : relative;
    width                     : 1200px; max-width      : 90%;
    height                    : max-content; max-height: 90%;
    background-color          : black;
    margin                    : auto;
    padding                   : 8px;
    margin-left               : 160px;
    -webkit-animation-name    : none;
    /* -webkit-animation-duration: 0.0s; */
    animation-name            : none;
    /* animation-duration        : 0.0s; */
  }


  .bar_top .modal-header {  
    background-color: black;
    color           : white;
  }
  
   .bar_top .modal-body{    
    color:rgb(100, 157, 214);      
  }

  
  .bar_top .modal-body .row{display: flex;}    
  .bar_top .modal-body .row .column{flex:1;}  /* equal size of columns*/
  
  
  .bar_top .modal-body .row h3{ 
    padding-bottom:0.5em;}

    .bar_top .modal-body .row ul li{line-height: 1;}

  .bar_top .modal-body .row ul li ul { 
    list-style-type: none;
    margin         : 0;
    padding        : 0;
    padding-top    : 0.5em;
    padding-bottom : 0.4em;
    line-height    : 1;
  }

  .bar_top .modal-body .row ul li ul li {     
    line-height    : 1;
  }
  
  .bar_top .modal-body .row li {
    line-height    : 1;
    list-style-type: none;
    float          : center;
    text-indent    : -20px;
    padding-left   : 22px;
    position       : relative;
  }

  

.bar_top .modal-body .row .column {
  text-align: center; /* center align all contents in a column */
}

.bar_top .modal-body .row .column h3 {
  text-align: center; /* center align the h3 tag in a column */
}

.bar_top .modal-body .row .column ul {
  text-align         : left ;   /* left align the ul tag in a column */
  margin-left        : auto;    /* center the ul tag */
  margin-right       : auto;    /* center the ul tag */
  list-style-position: inside;  /* adjust the position of the list items */
  line-height        : 0.55em;
}
    

  /* modal button */
  .bar_top .modalButton {      
    border       : none;
    margin-bottom: 24px;
    box-shadow   : none;
    /* box-shadow: 3px 3px 4px black;   */
}

/* The Close Button */
.bar_top .modalClose {    
  font-size: 0px;   
}

    
    
  </style>
    
    <!-- <style>
	/* ================================================================= 
                      TOOLTIP - GENERAL APPROACH (NOT ONLY FOOTNOTES)
================================================================= */ 


.hovering_foot {
  position: relative;
  display: inline-block;
  margin-left:-3px;
  text-decoration: underline;
  text-decoration-style: double;
  text-decoration-color: rgb(85, 133, 182);  
}

.hovering_foot .h_foot_text {
  visibility: hidden;
  width: 120px;
  background-color: black;
  color: #fff;
  text-align: center;
  border-radius: 6px;
  padding: 5px 0;  
  
  /* Position the hovering_foot */
  position: absolute;
  z-index: 1;
  top: 100%;
  left: 50%;
  margin-left: -60px;
}

.hovering_foot:hover .h_foot_text {
  visibility: visible;
}




/* ================================================================= 
                      FOOTNOTES with TOOLTIP
================================================================= */ 


.supr {
  vertical-align: 80%;
  font-size: 75%;
  line-height: 1; 
}
.footn {
  position: relative;
  display: inline-block;
  margin-left:-0.6em;
  margin-right:0;
  color: #2669DD;
  text-decoration: underline;  
  }

.footn .footn_text {
  font-size: 125%;
  visibility: hidden;  
  width: max-content; max-width: 500px;
  text-align: justify;  
  text-justify: inter-word;
  text-indent: 0%;
  line-height: 1.5;
  background-color:#282c34;  
  color: #e0e4eb;
  border-radius: 6px;
  padding: 5px 12px 5px 12px;  
  
  /* Position the hovering_foot */
  position: absolute;
  z-index: 1;
  top: 100%;
  left: -125px;  
}

.footn:hover .footn_text {
  visibility: visible;
  
}

.footn a{
  color: #7b9fdd;
  }

.footn a:hover{
  color: #a1b6dbb2;
}


</style> -->



<style>

.footn {
	  position: relative;
	  display: inline-block;
	  margin-left: -0.6em;
	  margin-right: 0;
	  color: #2669DD;
	  text-decoration: underline;
	}

	.supr {
	  vertical-align: 80%;
	  font-size: 75%;
	  line-height: 1; 
	}
	
	
	
	.footn .footn_text {	
	  font-size: 125%;
	  visibility: hidden;  	  
	  text-align: justify;  
	  text-justify: inter-word;
	  text-indent: 0%;
	  line-height: 1.5;
	  background-color: #282c34;
	  color: #e0e4eb;
	  border-radius: 6px;
	  padding: 5px 12px 5px 12px;
	
	  /* Position the hovering_foot */
	  position: absolute;
	  z-index: 1;
	  bottom: 100%;	  
	  right:0;
	}
	
	.footn .footn_text.left {
		left:0;		
		width: max-content;
	  	max-width: 500px;
	}

	.footn .footn_text.right {	  
		right: 0;	  
		width: max-content;
	  max-width: 500px;
	}
	
	.footn:hover .footn_text {
	  visibility: visible;   
	}
	
	.footn a{
	  color: #7b9fdd;
	}
	
	.footn a:hover{
	  color: #a1b6dbb2;
	}
		
  </style>
  
  
  <!-- Include the jQuery library and add the script to handle the hover effect -->
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"></script>

  
  <script>
$(document).ready(function() {
  $('.footn.supr').hover(
    function() {
      var footnoteText = $(this).find('.footn_text');
      var sentence = $(this).closest('p');
	  var sentenceWidth = sentence.width();
    //   var footnoteTextLeft = footnoteText.offset().left - sentence.offset().left;
    //   var isRightAligned = footnoteTextLeft > sentenceWidth / 2;

	  var footnoteTextLeft = footnoteText.offset().left - sentence.offset().left;
      var isRightAligned = footnoteTextLeft > sentenceWidth / 2;

     // Remove existing alignment classes
     footnoteText.removeClass('left right');

      // Add the appropriate alignment class
      if (isRightAligned) {
        footnoteText.addClass('right');
      } else {
        footnoteText.addClass('left');
      }

      // Add the "hovering" class to the footnote text
      footnoteText.addClass('hovering');
    },
    function() {
      // Remove the "hovering" class from the footnote text
      $(this).find('.footn_text').removeClass('hovering');
	  $(this).find('.footn_text').removeClass('left right');
    }
  );
});

  </script>



<!-- FOR MOBILE PHONES -->
<style>
	@media (max-width: 768px) {
		.footn .footn_text.left {
		left:0;		
		width: max-content;
	  	max-width: 200px;
	}

	.footn .footn_text.right {	  
		right: 0;	  
		width: max-content;
		max-width: 200px;
	}	}
</style>


<!-- <script>
	// Create a media query to match the condition (max-width: 768px)
	var mediaQuery = window.matchMedia('(max-width: 768px)');

	// Define a callback function to execute when the media query matches
	var mediaQueryHandler = function (event) {
		if (event.matches) {
			// Code to be executed when the media query matches (screen width <= 768px)
			$(document).ready(function () {
				$('.footn.supr').hover(
					function () {
						var footnoteText = $(this).find('.footn_text');
						var sentence = $(this).closest('p');
						var sentenceWidth = sentence.width();
						var footnoteTextLeft = footnoteText.offset().left - sentence.offset().left;
						var isRightAligned = footnoteTextLeft > sentenceWidth / 2;

						// Remove existing alignment classes
						footnoteText.removeClass('left right');

						// Add the appropriate alignment class
						if (isRightAligned) {
							footnoteText.addClass('right');
						} else {
							footnoteText.addClass('left');
						}

						// Add the "hovering" class to the footnote text
						footnoteText.addClass('hovering');
					},
					function () {
						// Remove the "hovering" class from the footnote text
						$(this).find('.footn_text').removeClass('hovering');
					}
				);
			});
		}
	};

	// Add the event listener to the media query
	mediaQuery.addListener(mediaQueryHandler);

	// Call the handler once at the beginning to check the initial state
	mediaQueryHandler(mediaQuery);

</script> -->    







<!-- Dark Mode -->


<style>
/* The switch - the box around the slider */
.switch {
  position: relative;
  display: inline-block;
  width: 30px;
  height: 17px;
}

.switch input {
  display: none;
}

/* The slider */
.slider {
  position: absolute;
  cursor: pointer;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: #ccc;
  transition: .4s;
}

.slider:before {
  position: absolute;
  content: "";
  height: 13px;
  width: 13px;
  left: 2px;
  bottom: 2px;
  background-color: white;
  transition: .4s;
}

input:checked + .slider {
  /* background-color: #132433; */
  background-color: #000000;
}

input:checked + .slider:before {
  transform: translateX(13px);
}

/* Rounded sliders */
.slider.round {
  border-radius: 17px;
}

.slider.round:before {
  border-radius: 50%;
}



  /* =============== */
/* DARK MODE */
/* =============== */

body.dark-mode .franklin-content, body.dark-mode .modal-body{
    background-color: rgb(3, 13, 24) !important;}
body.dark-mode .franklin-content section, body.dark-mode .index_container, body.dark-mode .modal-content  {
    color: rgb(235, 244, 252) !important; }

/* FOR LIST OF CHAPTERS */
    body.dark-mode .index_container,  body.dark-mode .index_container h1{
        background-color: rgb(3, 13, 24) !important;}
    
    body.dark-mode .index_container ul > li{
        color: rgb(235, 244, 252) !important;}

    body.dark-mode .index_container a {  
        color: rgb(88, 140, 192);
  }

  body.dark-mode .index_container a:hover, body.dark-mode section a:hover{
    color          : rgb(190, 213, 236);
}

body.dark-mode .multiple_pics { background-color: rgb(75, 109, 146); }
body.dark-mode .multiple_pics h2 { color: white !important; }
body.dark-mode .warning, body.dark-mode .note { color: black; }



body.dark-mode .code_box, body.dark-mode .code_in_modal, body.dark-mode .output_in_modal, body.dark-mode .img_output_in_modal { 
    border-width    : 1px;
    border-style    : solid;
    border-color    :rgb(235, 244, 252) }

  
body.dark-mode  .left_bar {
  background-image: linear-gradient(to left bottom, rgb(0, 0, 0), rgb(0, 0, 0) 10%, rgba(63, 99, 136, 0.3) 70%, rgba(63, 99, 136, 0.3));    
}

body.dark-mode  footer {
  background-image: linear-gradient(to right,rgb(13, 24, 35),  rgba(63, 99, 136, 0.5)  60%, rgba(63, 99, 136, 0.6) 75%, rgba(63, 99, 136, 0.7));
  background-color: rgba(63, 99, 136, 0.3);
  width           : calc(100%+10px);
  margin-left     : 0px;
  padding-left    : 10px;
}


</style>




<script>
  document.getElementById('toggleStyles').addEventListener('change', function() {
    if (this.checked) {
      document.body.classList.add('dark-mode');
      localStorage.setItem('darkMode', 'enabled');
    } else {
      document.body.classList.remove('dark-mode');
      localStorage.setItem('darkMode', 'disabled');
    }
  });

  window.addEventListener('load', function() {
    var darkMode = localStorage.getItem('darkMode');

    if (darkMode === 'enabled') {
      document.getElementById('toggleStyles').checked = true;
      document.body.classList.add('dark-mode');
    } else {
      document.getElementById('toggleStyles').checked = false;
    }
  });


</script>





<!-- MOBILE -->
<!-- <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans|Roboto|Poppins|Crimson+Text|Cardo|Ubuntu"></link> -->

<style>




@media (max-width: 850px){
  
     .jumbotron{
        font-size:90% !important;}

       .franklin-content{
        font-size:100% !important;}

       .franklin-content{padding-left: 1%; padding-right:1%;}

      .index_container,  .index_container section{font-size: 100%;}
      
      .index_container{
        padding-left:1%;
        padding-right:1%;              
      }

      .index_container ul li {padding-right: 5%; padding-left: 0}
      .index_container ul {padding-right: 0; padding-left: 5%;}

      
      .home_container section {font-size: 100%; line-height:1.55em;}
      .home_container ul li {padding-right: 1%; padding-left: 0;}
      .home_container ul {padding-right: 0; padding-left: 0%;}
      .home_container .row li {padding-left:0; padding-bottom:1.55em; margin-left:0;}
      .home_container .bullets_nomarker ul li p {line-height:1.55 !important;}

      
      /* for fixing overflowing code */
      .col-lg-.mx-auto{     
        /* white-space: pre-wrap;  */
        overflow: auto !important;
         }   
          
    
      .jumbotron {      
        padding-left: 60px !important;
        padding-right: 1% !important;
        padding-top: 0; margin-top:0;}

      
     
           

      .modal {padding: 2px !important;}

      .bullets ol, .itemNoSpace ol{padding: 4px; }
      .bullets ul li, .itemNoSpace ul li{padding-right: 5%; padding-left:0;margin-left:0;}
      .bullets ul li p, .itemNoSpace ul li p {line-height:1.65;}      
      
}



@media (max-height: 600px) {
     .jumbotron{
        font-size:90% !important;}

        .franklin-content{font-size:100% !important}

      .index_container,  .index_container section{font-size: 100%;}
      .index_container ul li {padding-right: 5%; padding-left: 0}
      .index_container ul {padding-right: 0; padding-left: 5%;}      

      .index_container{
        padding-left:1%;
        padding-right:1%;              
      }



      /* for fixing overflowing code */
      .col-lg-.mx-auto{     
        /* white-space: pre-wrap;  */
        overflow: auto !important;
         }   
          
    
      .jumbotron {      
        padding-left: 60px !important;
        padding-right: 1% !important;
        padding-top: 0; margin-top:0;}

    
      
      .franklin-content{
       padding-left: 0 !important;}
     

      
      .modal {padding: 2px !important;}
      
      .bullets ol, .itemNoSpace ol{padding: 6px; }
      .bullets ul li, .itemNoSpace ul li{padding-right: 5%; padding-left:0;margin-left:0;}
      .bullets ul li p, .itemNoSpace ul li p {line-height:1.55;}
      
      .index_container ul li {padding-right: 5%; padding-left: 0}
      .index_container ul {padding-right: 0; padding-left: 5%;}

}



</style>

<!-- <div class="left_bar_mobile" style="color:white;">
    <div style="float:center; align-items:center; justify-content: center; height:160px; width:calc(90px * 1.55165);">
        <img src="/julia_book/assets/pics_html/julia_logo-dark.svg"
        style= "position:relative; width:90%; height:auto; padding-top:45px;  padding-left:10px;">     
    </div> -->
    
<div class="left_bar_mobile" style="color:white;">

  <!-- <span>
    <img src="/julia_book/assets/pics_html/julia_logo-dark.svg" alt="pic" style="padding: 12px; padding-right:28px;padding-top:36px"
      width="{{contentPages_topleft_space_mobile}}" height=auto>
  </span> -->

  <!-- FOR TITLE BELOW THE PICTURE  -->
  <!-- <div style="color: rgb(63,99,136);
      font-size: 20px;
      font-weight: bold;
      text-align: center;
      text-shadow: 1px 1px 0px #fff, -1px -1px 0px #fff, 1px -1px 0px #fff, -1px 1px 0px #fff, 0px 0px 5px  #fff;">
      CONTENT
    </div> -->

  <ul>
    <li>
      <a href="/julia_book/index.html"><img src="/julia_book/assets/icons/home.png"
          style="width:15%; height:auto;opacity:0.9;padding-bottom:5px;">
        HOME
      </a>
    </li>

    <li>
      <a href="/julia_book/list_posts/"><img src="/julia_book/assets/icons/books03.png"
          style="width:15%; height:auto;opacity:0.9;padding-bottom:5px;">
        CHAPTERS
      </a>
    </li>
  </ul>

  


  

  <!-- {{if add_github_star}}
<a class="github-button" href="https://github.com/{{github_repo}}" data-icon="octicon-star" data-size="large" 
data-show-count="true" aria-label="Star {{title}} on GitHub">Star</a>
{{end}}       -->
</div>





<style>

@media (min-width: 850px), (min-height: 600px){
  .left_bar_mobile{display:none}
}

@media (max-width: 850px), (max-height: 600px){
  .left_bar_mobile{display:block}
  .lead {display:none}
  .bar_top, nav, .copy-button, .py-1 .container .center-text{
      display:none !important;}
      .jumbotron {
        /* padding-left: 60px !important;         */
        padding-left:80px;
        padding-right: 0.1% !important;
        padding-top: 0; margin-top:0;}
}



.left_bar_mobile img{display:none;}

.left_bar_mobile {
  z-index         : 200;
  background-image: none;
  position        : absolute;
  font-family     : "Inter";
  height          : auto;
  top             : 0;
  left            : 0;
  font-size       : 85%
  width           : 60px;
}

      

.left_bar_mobile ul{
list-style-type: none;
float          : left;
font-size      : 100%;
position       : relative;
padding-left   : 0.4em;
padding-top    : 0.5em;
line-height    : 4.25em;
height         : auto;
top            : 0;
width          : 60px;
}

/* .left_bar_mobile ul {padding-left:0 !important; margin-left:0}   */
      /* .left_bar_mobile ul, .left_bar_mobile ul li {margin-bottom:-0.5em !important; text-indent:0; padding-top:0.0em !important; padding-bottom:0.0em !important; height:auto;} */
      

.left_bar_mobile li a{
color: white;
}


.left_bar_mobile a:hover{
  color: rgb(160, 159, 159);  
}






@media (max-width: 850px) {
          
      /* .left_bar_mobile ul {padding-left:0 !important; margin-left:0}   */
      /* .left_bar_mobile ul, .left_bar_mobile ul li {margin-bottom:-0.5em !important; text-indent:0; padding-top:0.0em !important; padding-bottom:0.0em !important; height:auto;} */
      /* .left_bar_mobile ul li a {width:60px !important;}   */
      /* .left_bar_mobile img{width:0% !important; height:0% !important; visibility: hidden;}   */
      
          
}


@media (max-height: 600px) {
    
        /* .left_bar_mobile ul {padding-left:0 !important; margin-left:0}   */
    /* .left_bar_mobile ul, .left_bar_mobile ul li {text-indent:0; padding-top:0em ; padding-bottom:0em !important; height:2.5em; font-size:100%;} */
            /* .left_bar_mobile ul li a {width:60px !important;}   */
      /* .left_bar_mobile img{display:none;}   */
}

@media (max-width: 850px), (max-height: 600px) {
      h2 {font-size: 140%;padding-top:1em; }      
      h1 {font-size: 180%;padding-top:0.5em ;padding-bottom:0em;}      
        }

              

      
    }

@media (max-height: 600px){
          /* .left_bar_mobile ul, .left_bar_mobile ul li {text-indent:0; padding-top:0.0em ; padding-bottom:0em !important; height:3.2em; font-size:105%;} */
        }

@media (max-width: 850px){
      /* .left_bar_mobile ul, .left_bar_mobile ul li {text-indent:0; padding-top:0.5em ; padding-bottom:0em !important; height:3.5em; font-size:102%; padding-left:0.15em;} */
    }  


  

</style>





<!-- {{ispage list_posts links}}  
  {{insert /index_page/lists_header.html}}  
  {{insert /index_page/lists_FORMAT.html}}  
{{end}} -->

 
<div class="franklin-content">
<section id="introduction" class="scrollspy section-bg-color">
  <div class="container">
    <div class="row">
      <div class="col-lg- mx-auto">
        <h2>Introduction</h2></p>
<p>Vector creations can be a performance bottleneck, as they cause memory allocations. These creations occur not only when defining new vectors, but also when computing temporary vectors for intermediate steps. For example, accessing a vector slice &#40;e.g., <code>x&#91;1:2&#93;</code>&#41; or performing broadcasted operations for intermediate steps &#40;e.g., <code>sum&#40;x .* y&#41;</code>&#41; involve the creation of temporary vectors.</p>
<p>As discussed in previous sections, <strong>tuples</strong> can avoid these allocations. Building on this approach, this section introduces <strong>static vectors</strong>, available though the <code>StaticArrays</code> package. Static vectors are essentially tuples at their core, and are therefore <strong>only suitable for objects comprising a few elements</strong>. As a rule of thumb, consider <strong>using static vectors for up to 75 elements</strong>. Beyond this limit, the creation and access overhead will outweigh any potential speed gain, or directly become computationally infeasible.  <span class="footn supr">&#91;note&#93;  <span class="footn_text"> The number of elements I suggest is lower than the official documentation&#39;s recommendation, which indicate 100 elements. As you approach that upper limit, the time savings compared to regular vectors diminishes pronouncedly. Quite likely, you might end up spending more time benchmarking performance than you would gain in speed benefits.  </span></span> </p>
<p>When the number of elements is small, static vectors have several advantages over tuples. Firstly, they maintain their performance for larger collections. <span class="footn supr">&#91;note&#93;  <span class="footn_text"> You can see this by executing <code>sum&#40;x .* y&#41;</code> when <code>x</code> and <code>y</code> are treated as tuples or static vectors  </span></span>. Secondly, static vectors are manipulated in the same manner as regular vectors, even supporting other array types such as matrices &#40;hence the name of the package&#41;. Finally, unlike tuples that are immutable collections, <code>StaticArrays</code> offers mutable variants. These provide performance benefits relative to arrays, although immutable options still offer the best performance.</p>
 <div class=warning>  <div class=title>  <span class="warning_title" style="font-weight:500;">
      <img src="/julia_book/assets/icons/warning.png" style="width:auto; height:30px;opacity:0.99;padding-bottom:4px; margin-left:-4px;">      
      <b>Warning!</b> </span>  </div>  <div class=content>     To avoid repetition, <strong>the entire section assumes all collections contain a few elements</strong>. This means that all the benefits of static vectors highlighted in the section are contingent upon this assumption. Moreover, <strong>we'll proceed as if you had executed</strong> <code>using StaticArrays</code> at the beginning of each script to access the package.  </div>  </div>
<p>      </div>
    </div>
  </div>
</section>
<section id="creating_static_vectors" class="scrollspy">
  <div class="container">
    <div class="row">
      <div class="col-lg- mx-auto">
        <h2>Creating Static Vectors</h2></p>
<p>There are several variants of static vectors. We&#39;ll mainly focus on the type <code>SVector</code>, which we&#39;ll refer to as SVectors. </p>
<p>Below, we present several approaches to creating an SVector, each serving a distinct purpose. The first one creates an SVector by defining each element, while the other converts a standard vector into an SVector.</p>
 <div class=" hide_tab"> <details  open><summary  >  </summary>  <p></p>
 <div class="tab_wrapper">
 <div class="tab_code_links">
    <button class="tablink first_tab active" data-id=""> New Vector </button>
    <button class="tablink" data-id=""> Based on an Existing Vector </button>    
</div><div data-id="" class="tabcontent active">
<div class="code_in_modal"><div class="code_NoFormat"><pre><code class="language-julia"># all &#39;sx&#39; define the same static vector &#39;&#91;3,4,5&#93;&#39;


sx &#61; SVector&#40;3,4,5&#41;
sx &#61; SVector&#123;3, Int64&#125;&#40;3,4,5&#41;
sx &#61; SA&#91;3,4,5&#93;
sx &#61; @SVector &#91;i for i in 3:5&#93;</code></pre> </div></div> 
<div class="output_in_modal"><div class="sign_output">Output in REPL </div>  <div class="mixed_output_inline"><div class="mixed_output_NoFormat"><span style="color:rgb(32, 198, 121) !important; font-weight: bold;">julia&gt</span> <code>sx</code> <br/> <pre><code class="plaintext code-output">3-element SVector{3, Int64} with indices SOneTo(3):
 3
 4
 5</code></pre> </div></div> </div> 
 </div><div data-id="" class="tabcontent">
<div class="code_in_modal"><div class="code_NoFormat"><pre><code class="language-julia"># all &#39;sx&#39; define a static vector with same elements as &#39;x&#39;
x &#61; collect&#40;1:10&#41;

sx &#61; SVector&#40;x...&#41;
sx &#61; SVector&#123;length&#40;x&#41;, eltype&#40;x&#41;&#125;&#40;x&#41;
sx &#61; SA&#91;x...&#93;
sx &#61; @SVector &#91;a for a in x&#93;</code></pre> </div></div> 
<div class="output_in_modal"><div class="sign_output">Output in REPL </div>  <div class="mixed_output_inline"><div class="mixed_output_NoFormat"><span style="color:rgb(32, 198, 121) !important; font-weight: bold;">julia&gt</span> <code>sx</code> <br/> <pre><code class="plaintext code-output">10-element SVector{10, Int64} with indices SOneTo(10):
  1
  2
  3
  â‹®
  9
 10</code></pre> </div></div> </div> 
 </div></div>
<p>  </p></details></div>
<p>Of these approaches, we&#39;ll mainly rely on the function <code>SVector</code>, occasionally employing <code>SA</code> for indexing. <span class="footn supr">&#91;note&#93;  <span class="footn_text"> Approaches like the <code>@SVector</code> macro require some caveats. For instance, it doesn&#39;t allow for defining ranges that include local variables. This precludes the use of <code>eachindex&#40;x&#41;</code> in the definition of ranges, unless <code>x</code> is a global variable.  </span></span> Note the use of the <a href="/julia_book/PAGES/4c_arguments/#splatting">splatting operator</a> <code>...</code> to turn a regular vector into an SVector. The operator <code>...</code> is necessary for the function <code>SVector</code> to transform a collection into a sequence of arguments. <span class="footn supr">&#91;note&#93;  <span class="footn_text"> For instance, <code>foo&#40;x...&#41;</code> is equivalent to <code>foo&#40;x&#91;1&#93;, x&#91;2&#93;, x&#91;3&#93;&#41;</code> given a vector or tuple <code>x</code> with 3 elements.  </span></span></p>
<p>We can also define slices of an SVector <code>sx</code>. However, we must be mindful of how indexing works for SVectors: a slice remains an SVector when indices are specified as SVectors, whereas the slice becomes an ordinary vector for indices given by ranges or regular vectors. The sole exception to this rule is when the slice is created through <code>sx&#91;:&#93;</code>, in which case an SVector is returned.</p>
 <div class=" hide_tab"> <details  open><summary  >  </summary>  <p></p>
 <div class="tab_wrapper">
 <div class="tab_code_links">
    <button class="tablink first_tab active" data-id=""> Slices as SVectors </button>
    <button class="tablink" data-id=""> Wrong Approach </button>    
</div><div data-id="" class="tabcontent active">
<div class="code_in_modal"><div class="code_NoFormat"><pre><code class="language-julia">x &#61; collect&#40;3:10&#41; ; sx &#61; SVector&#40;x...&#41;

# both define static vectors
slice1 &#61; sx&#91;:&#93;
slice2 &#61; sx&#91;SA&#91;1,2&#93;&#93;        # or slice2 &#61; sx&#91;SVector&#40;1,2&#41;&#93;</code></pre> </div></div> 
<div class="output_in_modal"><div class="sign_output">Output in REPL </div>  <div class="mixed_output_inline"><div class="mixed_output_NoFormat"><span style="color:rgb(32, 198, 121) !important; font-weight: bold;">julia&gt</span> <code>slice1</code> <br/> <pre><code class="plaintext code-output">8-element SVector{8, Int64} with indices SOneTo(8):
  3
  4
  â‹®
  9
 10</code></pre> </div></p>
<p><div class="mixed_output_NoFormat"><span style="color:rgb(32, 198, 121) !important; font-weight: bold;">julia&gt</span> <code>slice2</code> <br/> <pre><code class="plaintext code-output">2-element SVector{2, Int64} with indices SOneTo(2):
 3
 4</code></pre> </div></div> </div> 
 </div><div data-id="" class="tabcontent">
<div class="code_in_modal"><div class="code_NoFormat"><pre><code class="language-julia">x &#61; collect&#40;3:10&#41; ; sx &#61; SVector&#40;x...&#41;

# both define and ordinary vector
slice2 &#61; sx&#91;1:2&#93;
slice2 &#61; sx&#91;&#91;1,2&#93;&#93;</code></pre> </div></div> 
<div class="output_in_modal"><div class="sign_output">Output in REPL </div>  <div class="mixed_output_inline"><div class="mixed_output_NoFormat"><span style="color:rgb(32, 198, 121) !important; font-weight: bold;">julia&gt</span> <code>slice</code> <br/> <pre><code class="plaintext code-output">2-element Vector{Int64}:
 3
 4</code></pre> </div></div> </div> 
 </div></div>
<p>  </p></details></div>
<p>      </div>
    </div>
  </div>
</section>
<section id="svectors_dont_allocate_and_are_faster" class="scrollspy section-bg-color">
  <div class="container">
    <div class="row">
      <div class="col-lg- mx-auto">
        <h2>SVectors Don't Allocate and Are Faster</h2></p>
<p>The <code>StaticArrays</code> package are internally based on tuples, entailing that SVectors don&#39;t allocate memory. </p>
 <div class=" hide_tab"> <details  open><summary  >  </summary>  <p></p>
 <div class="tab_wrapper">
 <div class="tab_code_links">
    <button class="tablink first_tab active" data-id=""> Copy </button>
    <button class="tablink" data-id=""> View </button>
    <button class="tablink" data-id=""> Tuple </button>
    <button class="tablink" data-id=""> Static Vector </button>
</div><div data-id="" class="tabcontent active">
<div class="code_in_modal"><div class="code_NoFormat"><pre><code class="language-julia">x &#61; rand&#40;10&#41;

function foo&#40;x&#41;
    a &#61; x&#91;1:2&#93;              # 1 allocation &#40;copy of slice&#41;
    b &#61; &#91;3,4&#93;               # 1 allocation &#40;vector creation&#41;

    sum&#40;a&#41; * sum&#40;b&#41;         # 0 allocation &#40;scalars don&#39;t allocate&#41;
end</code></pre> </div></div> 
<div class="output_in_modal"><div class="sign_output">Output in REPL </div>  <div class="mixed_output_inline"><div class="mixed_output_NoFormat"><span style="color:rgb(32, 198, 121) !important; font-weight: bold;">julia&gt</span> <code>@btime foo&#40;ref&#40;&#36;x&#41;&#41;</code> <br/> <pre><code class="plaintext code-output">  29.819 ns (2 allocations: 160 bytes)
</code></pre> </div></div> </div> 
 </div><div data-id="" class="tabcontent">
<div class="code_in_modal"><div class="code_NoFormat"><pre><code class="language-julia">x &#61; rand&#40;10&#41;

@views function foo&#40;x&#41;
    a &#61; x&#91;1:2&#93;              # 0 allocation &#40;view of slice&#41;
    b &#61; &#91;3,4&#93;               # 1 allocation &#40;vector creation&#41; 

    sum&#40;a&#41; * sum&#40;b&#41;         # 0 allocation &#40;scalars don&#39;t allocate&#41;
end</code></pre> </div></div> 
<div class="output_in_modal"><div class="sign_output">Output in REPL </div>  <div class="mixed_output_inline"><div class="mixed_output_NoFormat"><span style="color:rgb(32, 198, 121) !important; font-weight: bold;">julia&gt</span> <code>@btime foo&#40;ref&#40;&#36;x&#41;&#41;</code> <br/> <pre><code class="plaintext code-output">  15.015 ns (1 allocation: 80 bytes)
</code></pre> </div></div> </div> 
 </div><div data-id="" class="tabcontent">
<div class="code_in_modal"><div class="code_NoFormat"><pre><code class="language-julia">x &#61; rand&#40;10&#41;;   tup &#61; Tuple&#40;x&#41;

function foo&#40;x&#41;
    a &#61; x&#91;1:2&#93;              # 0 allocation &#40;slice of tuple&#41;
    b &#61; &#40;3,4&#41;               # 0 allocation &#40;tuple creation&#41;

    sum&#40;a&#41; * sum&#40;b&#41;         # 0 allocation &#40;scalars don&#39;t allocate&#41;
end</code></pre> </div></div> 
<div class="output_in_modal"><div class="sign_output">Output in REPL </div>  <div class="mixed_output_inline"><div class="mixed_output_NoFormat"><span style="color:rgb(32, 198, 121) !important; font-weight: bold;">julia&gt</span> <code>@btime foo&#40;ref&#40;&#36;tup&#41;&#41;</code> <br/> <pre><code class="plaintext code-output">  1.400 ns (0 allocations: 0 bytes)
</code></pre> </div></div> </div> 
 </div><div data-id="" class="tabcontent">
<div class="code_in_modal"><div class="code_NoFormat"><pre><code class="language-julia">x &#61; rand&#40;10&#41;;   sx &#61; SA&#91;x...&#93;

function foo&#40;x&#41;
    a &#61; x&#91;SA&#91;1,2&#93;&#93;          # 0 allocation &#40;slice of static array&#41;
    b &#61; SA&#91;3,4&#93;             # 0 allocation &#40;static array creation&#41;

    sum&#40;a&#41; * sum&#40;b&#41;         # 0 allocation &#40;scalars don&#39;t allocate&#41;
end</code></pre> </div></div> 
<div class="output_in_modal"><div class="sign_output">Output in REPL </div>  <div class="mixed_output_inline"><div class="mixed_output_NoFormat"><span style="color:rgb(32, 198, 121) !important; font-weight: bold;">julia&gt</span> <code>@btime foo&#40;ref&#40;&#36;sx&#41;&#41;</code> <br/> <pre><code class="plaintext code-output">  1.600 ns (0 allocations: 0 bytes)
</code></pre> </div></div> </div> 
 </div></div>
<p>  </p></details></div>
<p>Avoiding memory allocation is especially relevant for operations that implicitly or explicitly create temporary vectors, such as broadcasting.</p>
 <div class=" hide_tab"> <details  open><summary  >  </summary>  <p></p>
 <div class="tab_wrapper">
 <div class="tab_code_links">
    <button class="tablink first_tab active" data-id=""> Regular Vector </button>
    <button class="tablink" data-id=""> SVector </button>    
</div><div data-id="" class="tabcontent active">
<div class="code_in_modal"><div class="code_NoFormat"><pre><code class="language-julia">x &#61; rand&#40;10&#41;

foo&#40;x&#41; &#61; sum&#40;2 .* x&#41;</code></pre> </div></div> 
<div class="output_in_modal"><div class="sign_output">Output in REPL </div>  <div class="mixed_output_inline"><div class="mixed_output_NoFormat"><span style="color:rgb(32, 198, 121) !important; font-weight: bold;">julia&gt</span> <code>@btime foo&#40;ref&#40;&#36;x&#41;&#41;</code> <br/> <pre><code class="plaintext code-output">  17.936 ns (1 allocation: 144 bytes)
</code></pre> </div></div> </div> 
 </div><div data-id="" class="tabcontent">
<div class="code_in_modal"><div class="code_NoFormat"><pre><code class="language-julia">x &#61; rand&#40;10&#41;;   sx &#61; SVector&#40;x...&#41;

foo&#40;x&#41; &#61; sum&#40;2 .* x&#41;</code></pre> </div></div> 
<div class="output_in_modal"><div class="sign_output">Output in REPL </div>  <div class="mixed_output_inline"><div class="mixed_output_NoFormat"><span style="color:rgb(32, 198, 121) !important; font-weight: bold;">julia&gt</span> <code>@btime foo&#40;ref&#40;&#36;sx&#41;&#41;</code> <br/> <pre><code class="plaintext code-output">  1.800 ns (0 allocations: 0 bytes)
</code></pre> </div></div> </div> 
 </div></div>
<p>  </p></details></div>
<p>Interestingly, even if an operation doesn&#39;t allocate with regular vectors, SVectors still provide performance benefits. To illustrate this, consider the function <code>sum&#40;f, &lt;vector&gt;&#41;</code>, which sums the elements of <code>&lt;vector&gt;</code> after they&#39;re transformed via <code>f</code>. The implementation below shows that the operation is faster with SVectors, despite not allocating memory under regular vectors.</p>
 <div class=" hide_tab"> <details  open><summary  >  </summary>  <p></p>
 <div class="tab_wrapper">
 <div class="tab_code_links">
    <button class="tablink first_tab active" data-id=""> Vector </button>
    <button class="tablink" data-id=""> SVector </button>    
</div><div data-id="" class="tabcontent active">
<div class="code_in_modal"><div class="code_NoFormat"><pre><code class="language-julia">x  &#61; rand&#40;10&#41;

foo&#40;x&#41; &#61; sum&#40;a -&gt; 10 &#43; 2a &#43;  3a^2, x&#41;</code></pre> </div></div> 
<div class="output_in_modal"><div class="sign_output">Output in REPL </div>  <div class="mixed_output_inline"><div class="mixed_output_NoFormat"><span style="color:rgb(32, 198, 121) !important; font-weight: bold;">julia&gt</span> <code>@btime foo&#40;ref&#40;&#36;x&#41;&#41;</code> <br/> <pre><code class="plaintext code-output">  4.400 ns (0 allocations: 0 bytes)
</code></pre> </div></div> </div> 
 </div><div data-id="" class="tabcontent">
<div class="code_in_modal"><div class="code_NoFormat"><pre><code class="language-julia">x  &#61; rand&#40;10&#41;;  sx &#61; SVector&#40;x...&#41;;

foo&#40;x&#41; &#61; sum&#40;a -&gt; 10 &#43; 2a &#43;  3a^2, x&#41;</code></pre> </div></div> 
<div class="output_in_modal"><div class="sign_output">Output in REPL </div>  <div class="mixed_output_inline"><div class="mixed_output_NoFormat"><span style="color:rgb(32, 198, 121) !important; font-weight: bold;">julia&gt</span> <code>@btime foo&#40;ref&#40;&#36;sx&#41;&#41;</code> <br/> <pre><code class="plaintext code-output">  2.900 ns (0 allocations: 0 bytes)
</code></pre> </div></div> </div> 
 </div></div>
<p>  </p></details></div>
<p>      </div>
    </div>
  </div>
</section>
<section id="svector_type_and_its_mutable_variant" class="scrollspy">
  <div class="container">
    <div class="row">
      <div class="col-lg- mx-auto">
        <h2>SVector Type and Its Mutable Variant</h2></p>
<p>In Julia, SVectors are formally defined as objects with type <code>SVector&#123;N,T&#125;</code>, where <code>N</code> specifies the number of elements and <code>T</code> denotes the element&#39;s type. For instance, <code>SVector&#40;4,5,6&#41;</code> has type <code>SVector&#123;3,Int64&#125;</code>, indicating that it comprises 3 elements with type <code>Int64</code>. This implies that <strong>the number of elements is part of the</strong> <code>SVector</code> <strong>type</strong>, a feature also present in tuples.</p>
<p>Similar to tuples, <strong>the type</strong> <code>SVector</code> also <strong>defines an immutable object</strong>, meaning that its elements can&#39;t be added, removed, or modified. In case mutable collections are needed, the package <code>StaticArrays</code> provides the type <code>MVector</code>. MVectors and their slices share the same syntax as SVectors, with the only difference that the function <code>Svector</code> is substituted with <code>MVector</code>. This is illustrated in the following.</p>
 <div class=" hide_tab"> <details  open><summary  >  </summary>  <p></p>
 <div class="tab_wrapper">
 <div class="tab_code_links">
    <button class="tablink first_tab active" data-id=""> Immutable Static Vector (SVector) </button>
    <button class="tablink" data-id=""> Mutable Static Vector (MVector) </button>
</div><div data-id="" class="tabcontent active">
<div class="code_in_modal"><div class="code_NoFormat"></p>
<pre><code class="language-julia">x  &#61; &#91;1,2,3&#93;
sx &#61; SVector&#40;x...&#41;

sx&#91;1&#93; &#61; 0</code></pre>
<p></div></div> 
<div class="output_in_modal"><div class="sign_output">Output in REPL </div>  <div class="mixed_output_inline"><div class="julia_repl_NoFormat"><div class="akin_to_pre"><span style="color: rgb(168, 50, 50); padding-left:-1px"><strong>ERROR</strong></span>: setindex!(::SVector{3, Int64}, value, ::Int) is not defined</div></div></div> </div> 
 </div><div data-id="" class="tabcontent">
<div class="code_in_modal"><div class="code_NoFormat"><pre><code class="language-julia">x  &#61; &#91;1,2,3&#93;
mx &#61; MVector&#40;x...&#41;

mx&#91;1&#93; &#61; 0</code></pre> </div></div> 
<div class="output_in_modal"><div class="sign_output">Output in REPL </div>  <div class="mixed_output_inline"><div class="mixed_output_NoFormat"><span style="color:rgb(32, 198, 121) !important; font-weight: bold;">julia&gt</span> <code>mx</code> <br/> <pre><code class="plaintext code-output">3-element MVector{3, Int64} with indices SOneTo(3):
 0
 2
 3</code></pre> </div></div> </div> 
 </div></div>
<p>  </p></details></div>
<p>MVectors offer performance benefits over regular vectors, although they&#39;re equal to or slower than SVectors. Additionally, MVectors may result in memory allocations. Considering this, if you&#39;re certain that the collection won&#39;t be mutated, it&#39;s recommended to use SVectorsâ€”due to their immutable nature, SVectors will perform equally or better than MVectors, but never worse.</p>
<p>To demonstrate this, we present an example where SVectors and MVectors have the same performance and allocations, and another where they differ. The examples also reveal that, regardless of whether the Svector performs better than an MVector, both outperform regular vectors.</p>
 <div class=" hide_tab"> <details  open><summary  >  </summary>  <p></p>
 <div class="tab_wrapper">
 <div class="tab_code_links">
    <button class="tablink first_tab active" data-id=""> No Difference Between SVector and MVector </button>
    <button class="tablink" data-id=""> Differences </button>
</div><div data-id="" class="tabcontent active">
<div class="code_in_modal"><div class="code_NoFormat"><pre><code class="language-julia">x  &#61; rand&#40;10&#41;
sx &#61; SVector&#40;x...&#41;;  mx &#61; MVector&#40;x...&#41;

foo&#40;x&#41; &#61; sum&#40;a -&gt; 10 &#43; 2a &#43;  3a^2, x&#41;</code></pre> </div></div> 
<div class="output_in_modal"><div class="sign_output">Output in REPL </div>  <div class="mixed_output_inline"><div class="mixed_output_NoFormat"><span style="color:rgb(32, 198, 121) !important; font-weight: bold;">julia&gt</span> <code>@btime foo&#40;ref&#40;&#36;x&#41;&#41;</code> <br/> <pre><code class="plaintext code-output">  4.400 ns (0 allocations: 0 bytes)
</code></pre> </div></p>
<div class="mixed_output_NoFormat"><span style="color:rgb(32, 198, 121) !important; font-weight: bold;">julia&gt</span> <code>@btime foo&#40;ref&#40;&#36;sx&#41;&#41;</code> <br/> <pre><code class="plaintext code-output">  2.800 ns (0 allocations: 0 bytes)
</code></pre> </div>
<p><div class="mixed_output_NoFormat"><span style="color:rgb(32, 198, 121) !important; font-weight: bold;">julia&gt</span> <code>@btime foo&#40;ref&#40;&#36;mx&#41;&#41;</code> <br/> <pre><code class="plaintext code-output">  2.900 ns (0 allocations: 0 bytes)
</code></pre> </div></div> </div> 
 </div><div data-id="" class="tabcontent">
<div class="code_in_modal"><div class="code_NoFormat"><pre><code class="language-julia">x  &#61; rand&#40;10&#41;
sx &#61; SVector&#40;x...&#41;;  mx &#61; MVector&#40;x...&#41;

foo&#40;x&#41; &#61; 10 &#43; 2x &#43;  3x^2</code></pre> </div></div> 
<div class="output_in_modal"><div class="sign_output">Output in REPL </div>  <div class="mixed_output_inline"><div class="mixed_output_NoFormat"><span style="color:rgb(32, 198, 121) !important; font-weight: bold;">julia&gt</span> <code>@btime foo.&#40;ref&#40;&#36;x&#41;&#41;</code> <br/> <pre><code class="plaintext code-output">  19.739 ns (1 allocation: 144 bytes)
</code></pre> </div></p>
<div class="mixed_output_NoFormat"><span style="color:rgb(32, 198, 121) !important; font-weight: bold;">julia&gt</span> <code>@btime foo.&#40;ref&#40;&#36;sx&#41;&#41;</code> <br/> <pre><code class="plaintext code-output">  1.600 ns (0 allocations: 0 bytes)
</code></pre> </div>
<p><div class="mixed_output_NoFormat"><span style="color:rgb(32, 198, 121) !important; font-weight: bold;">julia&gt</span> <code>@btime foo.&#40;ref&#40;&#36;mx&#41;&#41;</code> <br/> <pre><code class="plaintext code-output">  6.600 ns (1 allocation: 96 bytes)
</code></pre> </div></div> </div> 
 </div></div>
<p>  </p></details></div>
<p>The mutability of MVectors makes them ideal for initializing a vector that will eventually be filled via a for-loop. In fact, executing <code>similar&#40;sx&#41;</code> when <code>sx</code> is an SVector automatically returns an MVector. </p>
 <div class=" code_box"> <details  open><summary> &#39;similar&#39; for SVectors  </summary> <div class="code_inline"><div class="code_NoFormat"><pre><code class="language-julia">sx &#61; SVector&#40;1,2,3&#41;

mx &#61; similar&#40;sx&#41;        # it defines an MVector with undef elements</code></pre> </div> </div> <div class="output_in_modal"><div class="sign_output">Output in REPL </div>  <div class="mixed_output_inline"><div class="franklin_output_NoFormat"><pre><code class="plaintext code-output">3-element MVector{3, Int64} with indices SOneTo(3):
        2073873450800
 -1152921504606846976
                    0</code></pre> </div></div> </div>   </details></div>
<p>      </div>
    </div>
  </div>
</section>
<section id="using_static_vectors" class="scrollspy section-bg-color">
  <div class="container">
    <div class="row">
      <div class="col-lg- mx-auto">
        <h2>Using Static Vectors</h2></p>
<p>Next, we consider operations that pre-allocate intermediate outputs in relation to static vectors. The conclusions are twofold. Firstly, if the operation exclusively uses SVectors, there&#39;s no need to pre-allocate intermediate results. Secondly, storing the final output as an MVector can entail performance gains relative to a regular vector.</p>
<p>The example we use involves counting the elements in <code>x</code> that are greater than <code>x&#91;i&#93;</code>, with the operation computed for each possible index <code>i</code>. Formally, this is captured by <code>sum&#40;x .&gt; x&#91;i&#93;&#41;</code>. <span class="footn supr">&#91;note&#93;  <span class="footn_text"> For simplicity, we use <code>sum</code> to avoid introducing new functions, although it&#39;d be more natural to use <code>count</code> instead.  </span></span>. To make the comparison starker, the operation <code>x .&gt; x&#91;i&#93;</code> and <code>sum</code> are written separately.</p>
 <div class=" hide_tab"> <details  open><summary  >  </summary>  <p></p>
 <div class="tab_wrapper">
 <div class="tab_code_links">
    <button class="tablink first_tab active" data-id=""> No Pre-Allocating </button>
    <button class="tablink" data-id=""> Pre-Allocating </button>
    <button class="tablink" data-id=""> SVector </button>
    <button class="tablink" data-id=""> SVector and MVector ('similar') </button>    
    <button class="tablink" data-id=""> SVector and MVector </button>    
</div><div data-id="" class="tabcontent active">
<div class="code_in_modal"><div class="code_NoFormat"><pre><code class="language-julia">x &#61; rand&#40;50&#41;

function foo&#40;x; output &#61; similar&#40;x&#41;&#41;
    for i in eachindex&#40;x&#41;
        temp      &#61; x .&gt; x&#91;i&#93;
        output&#91;i&#93; &#61; sum&#40;temp&#41;
    end

    return output
end</code></pre> </div></div> 
<div class="output_in_modal"><div class="sign_output">Output in REPL </div>  <div class="mixed_output_inline"><div class="mixed_output_NoFormat"><span style="color:rgb(32, 198, 121) !important; font-weight: bold;">julia&gt</span> <code>@btime foo&#40;ref&#40;&#36;x&#41;&#41;</code> <br/> <pre><code class="plaintext code-output">  3.188 Î¼s (101 allocations: 5.17 KiB)
</code></pre> </div></div> </div> 
 </div><div data-id="" class="tabcontent">
<div class="code_in_modal"><div class="code_NoFormat"><pre><code class="language-julia">x &#61; rand&#40;50&#41;

function foo&#40;x; output &#61; similar&#40;x&#41;, temp &#61; similar&#40;x&#41;&#41;
    for i in eachindex&#40;x&#41;
        @. temp      &#61; x &gt; x&#91;i&#93;
           output&#91;i&#93; &#61; sum&#40;temp&#41;
    end

    return output
end</code></pre> </div></div> 
<div class="output_in_modal"><div class="sign_output">Output in REPL </div>  <div class="mixed_output_inline"><div class="mixed_output_NoFormat"><span style="color:rgb(32, 198, 121) !important; font-weight: bold;">julia&gt</span> <code>@btime foo&#40;ref&#40;&#36;x&#41;&#41;</code> <br/> <pre><code class="plaintext code-output">  695.745 ns (2 allocations: 992 bytes)
</code></pre> </div></div> </div> 
 </div><div data-id="" class="tabcontent">
<div class="code_in_modal"><div class="code_NoFormat"><pre><code class="language-julia">x &#61; rand&#40;50&#41;;   sx &#61; SVector&#40;x...&#41;

function foo&#40;x; output &#61; Vector&#123;Float64&#125;&#40;undef, length&#40;x&#41;&#41;&#41;
    for i in eachindex&#40;x&#41;
        temp      &#61; x .&gt; x&#91;i&#93;
        output&#91;i&#93; &#61; sum&#40;temp&#41;
    end

    return output
end</code></pre> </div></div> 
<div class="output_in_modal"><div class="sign_output">Output in REPL </div>  <div class="mixed_output_inline"><div class="mixed_output_NoFormat"><span style="color:rgb(32, 198, 121) !important; font-weight: bold;">julia&gt</span> <code>@btime foo&#40;ref&#40;&#36;sx&#41;&#41;</code> <br/> <pre><code class="plaintext code-output">  183.661 ns (1 allocation: 496 bytes)
</code></pre> </div></div> </div> 
 </div><div data-id="" class="tabcontent">
<div class="code_in_modal"><div class="code_NoFormat"><pre><code class="language-julia">x &#61; rand&#40;50&#41;;   sx &#61; SVector&#40;x...&#41;

function foo&#40;x; output &#61; similar&#40;x&#41;&#41;
    for i in eachindex&#40;x&#41;
        temp      &#61; x .&gt; x&#91;i&#93;
        output&#91;i&#93; &#61; sum&#40;temp&#41;
    end

    return output
end</code></pre> </div></div> 
<div class="output_in_modal"><div class="sign_output">Output in REPL </div>  <div class="mixed_output_inline"><div class="mixed_output_NoFormat"><span style="color:rgb(32, 198, 121) !important; font-weight: bold;">julia&gt</span> <code>@btime foo&#40;ref&#40;&#36;sx&#41;&#41;</code> <br/> <pre><code class="plaintext code-output">  148.817 ns (1 allocation: 448 bytes)
</code></pre> </div></div> </div> 
 </div><div data-id="" class="tabcontent">
<div class="code_in_modal"><div class="code_NoFormat"><pre><code class="language-julia">x &#61; rand&#40;50&#41;;   sx &#61; SVector&#40;x...&#41;

function foo&#40;x; output &#61; MVector&#123;length&#40;x&#41;,eltype&#40;x&#41;&#125;&#40;undef&#41;&#41;
    for i in eachindex&#40;x&#41;
        temp      &#61; x .&gt; x&#91;i&#93;
        output&#91;i&#93; &#61; sum&#40;temp&#41;
    end

    return output
end</code></pre> </div></div> 
<div class="output_in_modal"><div class="sign_output">Output in REPL </div>  <div class="mixed_output_inline"><div class="mixed_output_NoFormat"><span style="color:rgb(32, 198, 121) !important; font-weight: bold;">julia&gt</span> <code>@btime foo&#40;ref&#40;&#36;sx&#41;&#41;</code> <br/> <pre><code class="plaintext code-output">  148.975 ns (1 allocation: 448 bytes)
</code></pre> </div></div> </div> 
 </div></div>
<p>  </p></details></div>
<p>Note that every implementation requires pre-allocating the vector <code>output</code>, which leaves us with only one decision to make: whether to pre-allocate the temporary vector <code>temp</code>. This also explains why every implementation involves at least one memory allocation.</p>
<p>The &quot;No-Preallocation&quot; tab serves as a baseline for comparison. In contrast, the &quot;Pre-allocating&quot; tab reuses a regular vector to compute <code>temp</code>, while the &quot;SVector&quot; tab converts <code>x</code> to an SVector <code>sx</code> without pre-allocating <code>temp</code>. The benchmarks reveal that the SVector approach outperforms pre-allocation, thanks to the memory allocation avoidance and additional optimization opportunities provided by SVectors.</p>
<p>As for the last two tabs, they continue defining <code>x</code> as an SVector, but additionally treat <code>output</code> as an MVector. The last tab in particular does this by using <code>similar&#40;sx&#41;</code> to initialize <code>output</code>, whereas the other tab explicitly specifies an MVector. As the benchmarks demonstrate, integrating MVectors into the operation yields further performance gains.</p>
<p>      </div>
    </div>
  </div>
</section>
<section id="the_number_of_elements_is_part_of_svectors_type" class="scrollspy">
  <div class="container">
    <div class="row">
      <div class="col-lg- mx-auto">
        <h2>The Number of Elements is Part of SVector's Type</h2></p>
<p>SVectors are defined as objects with a type <code>SVector&#123;N,T&#125;</code>. Due to this, the type definition requires not only the type <code>T</code> of its elements, but also the number of elements <code>N</code> it comprises. This feature, which is shared with MVectors and inherited from tuples, can readily introduce type instabilities if not handled carefully.</p>
<p>A way to avoid this potential issue is by passing any SVector and MVector as a function argument. Alternatively, we can employ the <code>Val</code> technique <a href="/julia_book/PAGES/7c_gotchas/#gotcha_4_inference_is_by_type_not_by_value">discussed for tuples</a>, which enables dispatch by the number of elements.</p>
 <div class=" hide_tab"> <details  open><summary  >  </summary>  <p></p>
 <div class="tab_wrapper">
 <div class="tab_code_links">
    <button class="tablink first_tab active" data-id=""> Type Unstable </button>
    <button class="tablink" data-id=""> SVector as Function Argument (Type Stable) </button>
    <button class="tablink" data-id=""> Val (Type Stable) </button>    
</div><div data-id="" class="tabcontent active">
<div class="code_in_modal"><div class="code_NoFormat"><pre><code class="language-julia">x &#61; rand&#40;50&#41;

function foo&#40;x&#41;
    output &#61; SVector&#123;length&#40;x&#41;, eltype&#40;x&#41;&#125;&#40;undef&#41;
    output &#61; MVector&#123;length&#40;x&#41;, eltype&#40;x&#41;&#125;&#40;undef&#41;

    for i in eachindex&#40;x&#41;
        temp      &#61; x .&gt; x&#91;i&#93;
        output&#91;i&#93; &#61; sum&#40;temp&#41;
    end

    return output
end

@code_warntype foo&#40;x&#41;                     # type unstable</code></pre> </div></div> 
 </div><div data-id="" class="tabcontent">
<div class="code_in_modal"><div class="code_NoFormat"><pre><code class="language-julia">x &#61; rand&#40;50&#41;;   sx &#61; SVector&#40;x...&#41;

function foo&#40;x&#41;
    
    output &#61; MVector&#123;length&#40;x&#41;, eltype&#40;x&#41;&#125;&#40;undef&#41;
    
    for i in eachindex&#40;x&#41;
        temp      &#61; x .&gt; x&#91;i&#93;
        output&#91;i&#93; &#61; sum&#40;temp&#41;
    end

    return output
end

@code_warntype foo&#40;sx&#41;                    # type stable</code></pre> </div></div> 
 </div><div data-id="" class="tabcontent">
<div class="code_in_modal"><div class="code_NoFormat"><pre><code class="language-julia">x &#61; rand&#40;50&#41;

function foo&#40;x, ::Val&#123;N&#125;&#41; where N
    sx     &#61; SVector&#123;N, eltype&#40;x&#41;&#125;&#40;x&#41;
    output &#61; MVector&#123;N, eltype&#40;x&#41;&#125;&#40;undef&#41;

    for i in eachindex&#40;x&#41;
        temp      &#61; x .&gt; x&#91;i&#93;
        output&#91;i&#93; &#61; sum&#40;temp&#41;
    end

    return output
end

@code_warntype foo&#40;x, Val&#40;length&#40;x&#41;&#41;&#41;     # type stable</code></pre> </div></div> 
 </div></div>
<p>  </p></details></div>
<p>      </div>
    </div>
  </div>
</section>

<footer class="py-1"> 
  <div class="container"> 
      <span class="left-text">
          <a href="/julia_book/PAGES\8b3_reductions" class="prevPage">
              <img src="/julia_book/assets/icons/prev-page.png" style="width:50px; height:auto;opacity:0.9;padding-bottom:5px;">
              Previous Section 
              <span class="ctrl-text">( <kbd>Ctrl + <img src="/julia_book/assets/icons/arrow_left.png" style="width:15px; height:auto;opacity:0.9;padding-bottom:2px;"> </kbd> )</span>
          </a>
      </span> 
      <span class="right-text">
          <a href="/julia_book/PAGES\8d_lazy" class="nextPage">
              Next Section 
              <span class="ctrl-text">( <kbd>Ctrl + <img src="/julia_book/assets/icons/arrow_right.png" style="width:15px; height:auto;opacity:0.9;padding-bottom:2px;"> </kbd> )</span>
              <img src="/julia_book/assets/icons/next-page.png" style="width:50px; height:auto;opacity:0.9;padding-bottom:5px;">
          </a>
      </span> 
      <span class="center-text"> 
          Â© Martin Alfaro <br>Last Modified May 8, 2024 
      </span> 
  </div> 
</footer>





<style>

@media (max-width: 850px), (max-height: 600px) {
    .ctrl-text {
        display: none;
    }
}


footer{font-family: "Inter";}

footer .container {  
  width: 100%;
  margin-top:0.6em;
  margin-bottom:0.5em;
  overflow: hidden;
  text-align:center;
  align-items: center;
  justify-content:center;
  color:white;  
}

footer .center-text {  
  /* float:center;   */
  text-align:center;
  
}

footer .left-text {
  float: left;
  /* text-align: left; */
}

footer .right-text {
  float: right;
  /* text-align: right; */
}

footer a {
  color: white;
}

footer a:hover {
  color: white;
  opacity:0.9;  
  text-decoration: none;
}
/* style="position:relative; display:flex; justify-content:left; align-items: left; text-align:left; color:white; left:0; padding-left:6px;"> */
/* style="position:relative; display:flex; justify-content:right; align-items: right; text-align:right;  color:white; right:0; padding-right:6px;">  */
</style>

<script>
  // Get page URLs
const prevPageURL = document.querySelector(".prevPage").href;
const nextPageURL = document.querySelector(".nextPage").href;

// Add click and keyboard event listeners
document.querySelector(".prevPage").addEventListener("click", goToPrevPage);
document.querySelector(".nextPage").addEventListener("click", goToNextPage);
document.addEventListener("keyup", (e) => {
  if (e.key === "ArrowLeft" && e.ctrlKey) {
    goToPrevPage();
  } else if (e.key === "ArrowRight" && e.ctrlKey) {
    goToNextPage();
  }
});

// Click handler functions 
function goToPrevPage() {
  window.location = prevPageURL; 
}
function goToNextPage() {
  window.location = nextPageURL; 
}


</script>




</div><!-- CONTENT ENDS HERE -->

<!-- ADDED BY FRANKLIN -->
  
      <script src="/julia_book/libs/katex/katex.min.js"></script>
<script src="/julia_book/libs/katex/auto-render.min.js"></script>
<script>renderMathInElement(document.body)</script>

  
  
      <script src="/julia_book/libs/highlight/highlight.js"></script>
<!-- <script src="/julia_book/libs/highlight/julia.highlight.js"></script> -->
<script>hljs.highlightAll();hljs.configure({tabReplace: '    '});</script>
<!-- <script>hljs.initHighlightingOnLoad();hljs.configure({tabReplace: '    '});</script> -->


  
  <script src="/julia_book/libs/simple-scrollspy.min.js"></script>
  <script>
  window.onload = function () {
    scrollSpy('#navbarResponsive', {
      sectionClass: '.scrollspy',
      menuActiveTarget: '.nav-link',
      offset: 100
    })
  }
  </script>
  </body>
</html>



<!-- 
#################################################
# FOR ALL PAGES
################################################# 
-->

<!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script> -->
<!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script> 
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script> -->



<!-- FOR ICONS -->
<!-- <script async defer src="https://buttons.github.io/buttons.js"></script> -->




<!-- FOR MODALS and TABS-->

<script>
  
  const btns   = document.getElementsByClassName('modalButton');
  const modals = document.getElementsByClassName('modal');

  [...btns].forEach((btn, ind) => {
 btn.onclick = () => {
    if (modals[ind].style.display === 'block') {
      modals[ind].style.display = 'none';
    } else {
      modals[ind].style.display = 'block';
    }
 };
});


  // Close the modal when user clicks outside of it
window.addEventListener('click', function(event) {
const modals        = document.getElementsByClassName('modal');
const modalContents = document.getElementsByClassName('modal-content');
const modalButtons  = document.getElementsByClassName('modalButton');
for (let i = 0; i < modals.length; i++) {
  const modal        = modals[i];
  const modalContent = modalContents[i];
  const modalButton  = modalButtons[i];
  if (modal.style.display === 'block' && !modalContent.contains(event.target) && !modalButton.contains(event.target)) {
    modal.style.display = 'none';
  }
}
});

  
document.addEventListener('keydown', function (event) {
  if (event.ctrlKey && event.key === 'z') {
    // Select the button element      
    const modal = document.getElementById('modal_bar');
    if (modal && modal.style.display === 'block') {
      modal.style.display = 'none';
    }
    else { modal.style.display = 'block'; }

    // Check if modal with id="modal_bar" is opened
  }
});



</script> 

<!-- NECESSARY TO MAKE IT WORK -->
<script> 
let handleClick = e => {
  Array.from(e.target.parentElement.parentElement.querySelectorAll(".active"), e => e.classList.remove("active")); // remove `active` class from every elements which contains him.
  e.target.classList.add("active");
  document.querySelector(`div.tabcontent[data-id*="${e.target.dataset.id}"]`).classList.add("active");
 
};

Array.from(document.getElementsByClassName("tablink"), btn => btn.addEventListener('click', handleClick, false));
</script>





<!-- FOR SETTING SAME HEIGHT of CODE and OUTPUT WITHIN A TABCONTENT -->
<script>
  let setHeight = () => {
  let tabWrappers = document.querySelectorAll('.tab_wrapper');
  tabWrappers.forEach(wrapper => {
    let tabContents = wrapper.querySelectorAll('.tabcontent');
    let maxCodeHeight = 0;
    let maxOutputHeight = 0;

    tabContents.forEach(tabContent => {
      // Temporarily show the tabContent to calculate its children's height
      let originalVisibility = tabContent.style.visibility;
      tabContent.style.visibility = 'visible';

      let originalPosition = tabContent.style.position;
      let originalDisplay = tabContent.style.display;
      tabContent.style.position = 'relative';
      tabContent.style.display = 'inline-block';

      let codeInModal = tabContent.querySelector('.code_in_modal');
      let outputInModal = tabContent.querySelector('.output_in_modal');

      if (codeInModal) {
        codeInModal.style.height = 'auto';
        let codeHeight = codeInModal.offsetHeight;
        if (codeHeight > maxCodeHeight) {
          maxCodeHeight = codeHeight;
        }
      }

      if (outputInModal) {
        outputInModal.style.height = 'auto';
        let outputHeight = outputInModal.offsetHeight;
        if (outputHeight > maxOutputHeight) {
          maxOutputHeight = outputHeight;
        }
      }

      // Restore the original position and visibility
      tabContent.style.visibility = originalVisibility;
      tabContent.style.position = originalPosition;
      tabContent.style.display = originalDisplay;
    });

    tabContents.forEach(tabContent => {
      let codeInModal = tabContent.querySelector('.code_in_modal');
      let outputInModal = tabContent.querySelector('.output_in_modal');

      if (codeInModal) {
        codeInModal.style.height = maxCodeHeight + 'px';
      }

      if (outputInModal) {
        outputInModal.style.height = maxOutputHeight + 'px';
      }
    });
  });
};

window.addEventListener('load', setHeight);
window.addEventListener('resize', setHeight);
</script>








<!-- <script> 
   OLD FOR SETTING HEIGHT OF TABCONTENT ONLY
    let setHeight = () => {
      let tabWrappers = document.querySelectorAll('.tab_wrapper');
      tabWrappers.forEach(wrapper => {
        let tabs = wrapper.querySelectorAll('.tabcontent');
        let maxHeight = 0;
        tabs.forEach(tab => {
          // Temporarily show the tab to calculate its height
          let originalVisibility = tab.style.visibility;
          tab.style.visibility = 'visible';

          let originalPosition = tab.style.position;
          let originalDisplay = tab.style.display;
          tab.style.position = 'relative';
          tab.style.display = 'inline-block';

          tab.style.height = '100%';
          let height = tab.offsetHeight;
          if (height > maxHeight) {
            maxHeight = height;
          }

          // Restore the original position and visibility
          tab.style.visibility = originalVisibility;
          tab.style.position = originalPosition;
          tab.style.display = originalDisplay;
        });
        tabs.forEach(tab => {
          tab.style.height = maxHeight + 'px';
        });
      });
    };

  window.addEventListener('load', setHeight);
  window.addEventListener('resize', setHeight);
</script> -->


<script>
  // Get all the tab wrappers on the page
  var tabWrappers = document.getElementsByClassName("tab_wrapper");

  // Iterate over the tab wrappers
  for (var i = 0; i < tabWrappers.length; i++) {
    var tabWrapper = tabWrappers[i];
    var buttons = tabWrapper.getElementsByClassName("tablink");
    var tabContents = tabWrapper.getElementsByClassName("tabcontent");

    // Set the data-id values for each button and tab content
    for (var j = 0; j < buttons.length; j++) {
      var button = buttons[j];
      var tabContent = tabContents[j];
      var dataId = "tab" + (i + 1) + "_" + (j + 1); // Create the data-id value

      // Set the data-id attribute for the button
      button.setAttribute("data-id", dataId);

      // Set the data-id attribute for the tab content
      tabContent.setAttribute("data-id", dataId);
    }
  }
</script>

<!-- to close all the elements in a class "details" using "Alt" + "Up Arrow" -->
<script>
document.addEventListener("keydown", function(event) {
  if (event.code === "ArrowUp" && event.altKey) {    
    var details = document.getElementsByTagName("details");
    for (var i = 0; i < details.length; i++) {
        details[i].open = false;
    }
  }
});
</script>



<!-- to open all the elements in a class "details" using "Alt" + "Down Arrow" -->
<script>
    document.addEventListener("keydown", function(event) {
  if (event.code === "ArrowDown" && event.altKey) {
    var details = document.getElementsByTagName("details");
    for (var i = 0; i < details.length; i++) {
        details[i].open = true;
    }
  }
});



// // USER- TO USE ESCAPE TO CLOSE IT
window.onkeydown = function(event) {
        if (event.key == 'Escape') {
            for(let modal of modals) {
                modal.style.display = 'none';
            }
        }
    }
</script>
  





<!-- FOR PICS -->
<style>

/* for collapsible pics  */
.pic_drop_green{    
  padding-top: 1em;
  padding-bottom: 1em ;
  }

.pic_drop_green details > summary {  
  color:white;
  display:inline-block;
  width: auto;
  cursor: pointer;
  
  padding: 0px 6px;
  margin: 0;
  
  border-width: 1px; 
  border-style:solid;
  box-shadow: 3px 3px 4px black;

  /* list-style: none;   */  
  background-color: #3f6b4b;
}


.pic_drop_green details[open] > summary {
  width: auto;
  padding: 0px 6px;
  
  border: #a8a8a8;  
  border-width: 1px;   
  border-style:solid;

  color:white;
  background-color: #3f6b4b;
  
  
}

.pic_drop_green details > p {
  display:block;
  width:auto;    
  padding: 0;
  margin: 0;  
}





/* ===================
for multiple pics in a row 
==================== */

.multiple_pics{text-align: center;}

.multiple_pics h2{text-decoration:none; padding-bottom:0;}

.multiple_pics .row {
  display: flex;
}

.multiple_pics .column2 {  flex: 50%;}

.multiple_pics .column3 {  flex: 33.33%;}
  
/* 
\html{
<div class="multiple_pics">
<div class="row">
  <div class="column2">
  <h2>CORRECT Interpretation</h2>
    <img src="/julia_book/assets/tikz/3d_mutation/interpret01a.svg" style="width:400px ; height:auto; padding-right:0em;">
  </div>
  <div class="column2">
  <h2>INCORRECT Interpretation</h2>
    <img src="/julia_book/assets/tikz/3d_mutation/interpret01b.svg" style="width:435px ; height:auto">
  </div>  
</div>
</div>
}
 */

</style>



<!-- 
#################################################
# FOR EACH SPECIFIC PAGE
#################################################
 -->


<!-- FOR NAVIGATION-->
       
  
<!-- to make it visible as default change line 9 by
<div class="collapse show navbar-collapse" id="collapsibleNavbar"> -->


  <nav class="nav">
    <button class="nav-toggle" aria-label="Toggle navigation">
      <!-- <span class="nav-toggle-icon"></span> -->
        <img src="/julia_book/assets/icons/dropdown.png" style="width:auto; height:30px; opacity:0.9; padding-bottom:2px;margin-left:0px;">
      <span class="nav-title"><i>9f.</i> Static Vectors for Small Vectors</span>
    </button>
    <div class="nav-menu">
      <ul>
        
        <li>
          <a href="#introduction" data-offset="-40">Introduction</a>
        </li>
        
        <li>
          <a href="#creating_static_vectors" data-offset="-40">Creating Static Vectors</a>
        </li>
        
        <li>
          <a href="#svectors_dont_allocate_and_are_faster" data-offset="-40">SVectors Don't Allocate and Are Faster</a>
        </li>
        
        <li>
          <a href="#svector_type_and_its_mutable_variant" data-offset="-40">SVector Type and Its Mutable Variant</a>
        </li>
        
        <li>
          <a href="#using_static_vectors" data-offset="-40">Using Static Vectors</a>
        </li>
        
        <li>
          <a href="#the_number_of_elements_is_part_of_svectors_type" data-offset="-40">The Number of Elements is Part of SVector's Type</a>
        </li>
        
      </ul>
    </div>
  </nav>
  


<script>
const navToggle = document.querySelector('.nav-toggle');
const navMenu   = document.querySelector('.nav-menu');
const navLinks  = document.querySelectorAll('.nav-menu a');

navToggle.addEventListener('click', () => {
  navMenu.classList.toggle('show');
});

navLinks.forEach((link) => {
  link.addEventListener('click', (e) => {
    e.preventDefault();
    const target = document.querySelector(link.getAttribute('href'));
    const offset = parseInt(link.dataset.offset, 10) || 0;
    window.scrollTo({ top: target.offsetTop + offset, behavior: 'smooth' });
  });
});

document.addEventListener('click', (e) => {
  if (!navMenu.contains(e.target) && !navToggle.contains(e.target)) {
    navMenu.classList.remove('show');
  }
});

document.addEventListener('keydown', (e) => {
  if (e.key === 'Escape') {
    navMenu.classList.remove('show');
  }
  if (e.key === 'x' && e.ctrlKey) {
    navMenu.classList.toggle('show');
  }
});

</script>


<style>
  /* ================================================================= 
                      NAVIGATION BAR
================================================================= */ 
.nav {
  position        : fixed;
  top             : 0;
  right           : 0;
  z-index         : 200;
  background-color: rgb(63,99,136);
  padding         : 0;
  display         : block;
  font-family     : "Inter";
}

.nav-toggle {
  background-color: rgb(63, 99, 136);
  border          : none;
  padding         : 8px;
  padding-right   : 24px;
  font-size       : 18px;
  cursor          : pointer;
}

/* .nav-toggle-icon {
  display: inline-block;
  width: 20px;
  height: 20px;
  background-image: url('/assets/icons/sheets02.png');
  background-size: 28px 20px;
} */

.nav-menu {
  position        : fixed;
  right           : 0;
  top             : 48px;
  background-color: rgb(63,99,136);
  padding         : 10px;
  width           : 300px;
  height          : 100vh;
  overflow-y      : auto;
  display         : none;
}

.nav-menu ul {
  list-style: none;
  margin    : 0;
  padding   : 0;
}

.nav-menu li {
  margin-bottom: 10px;
}

.nav-menu a {
  color          : #fff;
  text-decoration: none;
  font-size      : 18px;
  font-weight    : bold;
  text-align     : center;
  padding        : 10px 10px;
  display        : block;
}

.nav-menu a:hover {
  color           : #ccc;
  background-color: #333;
}

.nav-title {
  font-size  : 18px;
  margin-left: 10px;
  color      : #fff;
}

.nav-brand {
  font-size  : 24px;
  font-weight: bold;
  margin     : 10px 20px;
  color      : #fff;
}

.nav-menu.show {
  display: block;
}

</style>

    




  
<!-- COPY BUTTON -->
<script src="/julia_book/libs/clipboard.min.js"></script> 
<!-- http://tutsplus.github.io/clipboard/ -->

<script>
    (function(){
    
        // Get the elements.
        // - the 'pre' element.
        // - the 'div' with the 'paste-content' id.
    
        var pre = document.getElementsByTagName('pre');
    
        // Add a copy button in the 'pre' element.
        // which only has the className of 'language-' or ' hljs'(if enable highlight.js pre-render).
    
        for (var i = 0; i < pre.length; i++) {
            var tag_name = pre[i].children[0].className
                    var isLanguage = tag_name.startsWith('language-') || tag_name.endsWith(' hljs');
            if ( isLanguage ) {
                var button           = document.createElement('button');
                        button.className = 'copy-button';
                        button.textContent = 'Copy';
    
                        pre[i].appendChild(button);
            }
        };
    
        // Run Clipboard
    
        var copyCode = new Clipboard('.copy-button', {
            target: function(trigger) {
                return trigger.previousElementSibling;
        }
        });
    
        // On success:
        // - Change the "Copy" text to "Copied".
        // - Swap it to "Copy" in 2s.
        // - Lead user to the "contenteditable" area with Velocity scroll.
    
        copyCode.on('success', function(event) {
            event.clearSelection();
            event.trigger.textContent = 'copied!';
            window.setTimeout(function() {
                event.trigger.textContent = 'copy';
            }, 2000);
    
        });
    
        // On error (Safari):
        // - Change the  "Press Ctrl+C to copy"
        // - Swap it to "Copy" in 2s.
    
        copyCode.on('error', function(event) {
            event.trigger.textContent = 'Press "Ctrl + C" to copy';
            window.setTimeout(function() {
                event.trigger.textContent = 'Copy';
            }, 5000);
        });
    
    })();
    </script>



